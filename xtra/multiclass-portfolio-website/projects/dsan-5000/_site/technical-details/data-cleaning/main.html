<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN-5000: Project - Data Cleaning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/gu-logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../report/report.html"> 
<span class="menu-text">Report</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-technical-details" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Technical details</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-technical-details">    
        <li>
    <a class="dropdown-item" href="../../technical-details/data-collection/main.html">
 <span class="dropdown-text">Data-collection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/data-cleaning/main.html">
 <span class="dropdown-text">Data-cleaning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/data-balancing/main.html">
 <span class="dropdown-text">Counterfactual Data Balancing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/eda/main.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/unsupervised-learning/main.html">
 <span class="dropdown-text">Unsupervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/supervised-learning/main.html">
 <span class="dropdown-text">Supervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/progress-log.html">
 <span class="dropdown-text">Progress Log</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/llm-usage-log.html">
 <span class="dropdown-text">LLM usage Log</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../bibliography.html"> 
<span class="menu-text">Bibliography</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../appendix.html"> 
<span class="menu-text">Appendix</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/dsan-5000/project-courtneyrgreen.git"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://crg123.georgetown.domains/"> 
<span class="menu-text">Back to Portfolio</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#u.s.-exoneration-data-cleaning" id="toc-u.s.-exoneration-data-cleaning" class="nav-link active" data-scroll-target="#u.s.-exoneration-data-cleaning">U.S. Exoneration Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#introduction-and-motivation" id="toc-introduction-and-motivation" class="nav-link" data-scroll-target="#introduction-and-motivation">Introduction and Motivation</a></li>
  <li><a href="#initial-overview-of-the-dataset" id="toc-initial-overview-of-the-dataset" class="nav-link" data-scroll-target="#initial-overview-of-the-dataset">Initial Overview of the Dataset</a>
  <ul class="collapse">
  <li><a href="#loading-the-dataset" id="toc-loading-the-dataset" class="nav-link" data-scroll-target="#loading-the-dataset">Loading the Dataset</a></li>
  </ul></li>
  <li><a href="#subsetting-the-data-illinois" id="toc-subsetting-the-data-illinois" class="nav-link" data-scroll-target="#subsetting-the-data-illinois">Subsetting the Data: Illinois</a>
  <ul class="collapse">
  <li><a href="#filtering-the-dataset" id="toc-filtering-the-dataset" class="nav-link" data-scroll-target="#filtering-the-dataset">Filtering the Dataset</a></li>
  </ul></li>
  <li><a href="#handling-missing-data" id="toc-handling-missing-data" class="nav-link" data-scroll-target="#handling-missing-data">Handling Missing Data</a>
  <ul class="collapse">
  <li><a href="#identifying-missing-data" id="toc-identifying-missing-data" class="nav-link" data-scroll-target="#identifying-missing-data">Identifying Missing Data</a></li>
  <li><a href="#handling-missing-data-1" id="toc-handling-missing-data-1" class="nav-link" data-scroll-target="#handling-missing-data-1">Handling Missing Data</a></li>
  </ul></li>
  <li><a href="#column-standardization" id="toc-column-standardization" class="nav-link" data-scroll-target="#column-standardization">Column Standardization</a>
  <ul class="collapse">
  <li><a href="#text-value-standardization" id="toc-text-value-standardization" class="nav-link" data-scroll-target="#text-value-standardization">Text Value Standardization</a></li>
  </ul></li>
  <li><a href="#data-type-correction-and-formatting" id="toc-data-type-correction-and-formatting" class="nav-link" data-scroll-target="#data-type-correction-and-formatting">Data Type Correction and Formatting</a>
  <ul class="collapse">
  <li><a href="#data-type-correction-for-textual-data" id="toc-data-type-correction-for-textual-data" class="nav-link" data-scroll-target="#data-type-correction-for-textual-data">Data Type Correction for Textual Data</a></li>
  <li><a href="#date-time-conversion" id="toc-date-time-conversion" class="nav-link" data-scroll-target="#date-time-conversion">Date-Time Conversion</a></li>
  <li><a href="#standardizing-the-sentence-column" id="toc-standardizing-the-sentence-column" class="nav-link" data-scroll-target="#standardizing-the-sentence-column">Standardizing the <code>sentence</code> Column</a></li>
  </ul></li>
  <li><a href="#cleaning-the-tags-and-om-tags-columns" id="toc-cleaning-the-tags-and-om-tags-columns" class="nav-link" data-scroll-target="#cleaning-the-tags-and-om-tags-columns">Cleaning the <code>tags</code> and <code>OM-tags</code> Columns</a></li>
  <li><a href="#merge-with-geocoded-counties" id="toc-merge-with-geocoded-counties" class="nav-link" data-scroll-target="#merge-with-geocoded-counties">Merge with Geocoded Counties</a></li>
  <li><a href="#calculating-years-lost" id="toc-calculating-years-lost" class="nav-link" data-scroll-target="#calculating-years-lost">Calculating Years Lost</a></li>
  <li><a href="#column-reorganization" id="toc-column-reorganization" class="nav-link" data-scroll-target="#column-reorganization">Column Reorganization</a></li>
  <li><a href="#exporting-the-cleaned-dataset" id="toc-exporting-the-cleaned-dataset" class="nav-link" data-scroll-target="#exporting-the-cleaned-dataset">Exporting the Cleaned Dataset</a></li>
  </ul></li>
  <li><a href="#illinois-arrest-data-cleaning" id="toc-illinois-arrest-data-cleaning" class="nav-link" data-scroll-target="#illinois-arrest-data-cleaning">Illinois Arrest Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#introduction-and-motivation-1" id="toc-introduction-and-motivation-1" class="nav-link" data-scroll-target="#introduction-and-motivation-1">Introduction and Motivation</a></li>
  <li><a href="#initial-overview-of-the-dataset-1" id="toc-initial-overview-of-the-dataset-1" class="nav-link" data-scroll-target="#initial-overview-of-the-dataset-1">Initial Overview of the Dataset</a></li>
  <li><a href="#column-renaming-and-consolidation" id="toc-column-renaming-and-consolidation" class="nav-link" data-scroll-target="#column-renaming-and-consolidation">Column Renaming and Consolidation</a></li>
  <li><a href="#handling-placeholder-values" id="toc-handling-placeholder-values" class="nav-link" data-scroll-target="#handling-placeholder-values">Handling Placeholder Values</a></li>
  <li><a href="#exporting-cleaned-and-aggregated-datasets" id="toc-exporting-cleaned-and-aggregated-datasets" class="nav-link" data-scroll-target="#exporting-cleaned-and-aggregated-datasets">Exporting Cleaned and Aggregated Datasets</a>
  <ul class="collapse">
  <li><a href="#exporting-the-cleaned-dataset-1" id="toc-exporting-the-cleaned-dataset-1" class="nav-link" data-scroll-target="#exporting-the-cleaned-dataset-1">1. Exporting the Cleaned Dataset</a></li>
  <li><a href="#aggregating-arrest-data-by-race-and-county" id="toc-aggregating-arrest-data-by-race-and-county" class="nav-link" data-scroll-target="#aggregating-arrest-data-by-race-and-county">2. Aggregating Arrest Data by Race and County</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#mass-incarceration-racial-geography-data-cleaning" id="toc-mass-incarceration-racial-geography-data-cleaning" class="nav-link" data-scroll-target="#mass-incarceration-racial-geography-data-cleaning">Mass Incarceration Racial Geography Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#introduction-and-motivation-2" id="toc-introduction-and-motivation-2" class="nav-link" data-scroll-target="#introduction-and-motivation-2">Introduction and Motivation</a></li>
  <li><a href="#initial-overview-of-the-dataset-2" id="toc-initial-overview-of-the-dataset-2" class="nav-link" data-scroll-target="#initial-overview-of-the-dataset-2">Initial Overview of the Dataset</a></li>
  <li><a href="#standardizing-column-names" id="toc-standardizing-column-names" class="nav-link" data-scroll-target="#standardizing-column-names">Standardizing Column Names</a></li>
  <li><a href="#exporting-the-cleaned-dataset-2" id="toc-exporting-the-cleaned-dataset-2" class="nav-link" data-scroll-target="#exporting-the-cleaned-dataset-2">Exporting the Cleaned Dataset</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Cleaning</h1>
</div>



<div class="quarto-title-meta column-page-left">

    
  
    
  </div>
  


</header>


<section id="u.s.-exoneration-data-cleaning" class="level1">
<h1>U.S. Exoneration Data Cleaning</h1>
<section id="introduction-and-motivation" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-motivation">Introduction and Motivation</h2>
<p>This section outlines the steps taken to clean and preprocess the U.S. exoneration dataset, with a specific focus on Illinois cases. The cleaning process organizes the raw data into a structured and usable format for exploratory data analysis (EDA) and subsequent analysis workflows. By the end of this phase, the dataset will be well-structured, free of inconsistencies, and ready for further exploratory data analysis and machine learning workflows.</p>
</section>
<section id="initial-overview-of-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="initial-overview-of-the-dataset">Initial Overview of the Dataset</h2>
<section id="loading-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="loading-the-dataset">Loading the Dataset</h3>
<p>The dataset is first loaded to inspect its structure and contents. The purpose of this step is to get an initial sense of the data types, potential missing values, and the distribution of key variables which helps inform the cleaning steps required to make the data consistent and analyzable.</p>
<div id="cell-4" class="cell" data-execution_count="165">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import necessary Libraries:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd  <span class="co"># Used for data management, exploration, and manipulation</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np  <span class="co"># Used for numerical operations and array-based data processing</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns  <span class="co"># Used for data visualization, especially for missing values</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt  <span class="co"># Used for plotting and visualizing data</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re  <span class="co"># Used for handling and processing regular expressions, e.g., date cleaning</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Load exoneration dataset:</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/raw-data/US_exoneration_data.csv'</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Initial Dataset: "</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="va">None</span>) <span class="co"># Enables display of every column</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Initial Dataset: </code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="165">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Last Name</th>
<th data-quarto-table-cell-role="th">First Name</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Race</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">County</th>
<th data-quarto-table-cell-role="th">Tags</th>
<th data-quarto-table-cell-role="th">Worst Crime Display</th>
<th data-quarto-table-cell-role="th">Sentence</th>
<th data-quarto-table-cell-role="th">Posting Date</th>
<th data-quarto-table-cell-role="th">OM Tags</th>
<th data-quarto-table-cell-role="th">F/MFE</th>
<th data-quarto-table-cell-role="th">FC</th>
<th data-quarto-table-cell-role="th">ILD</th>
<th data-quarto-table-cell-role="th">P/FA</th>
<th data-quarto-table-cell-role="th">DNA</th>
<th data-quarto-table-cell-role="th">MWID</th>
<th data-quarto-table-cell-role="th">OM</th>
<th data-quarto-table-cell-role="th">Date of Exoneration</th>
<th data-quarto-table-cell-role="th">Date of 1st Conviction</th>
<th data-quarto-table-cell-role="th">Date of Release</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Abbitt</td>
<td>Joseph</td>
<td>31.0</td>
<td>Black</td>
<td>Male</td>
<td>North Carolina</td>
<td>Forsyth</td>
<td>CV;#IO;#SA</td>
<td>Child Sex Abuse</td>
<td>Life</td>
<td>9/1/11</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DNA</td>
<td>MWID</td>
<td>NaN</td>
<td>9/2/09</td>
<td>6/22/95</td>
<td>9/2/09</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Abbott</td>
<td>Cinque</td>
<td>19.0</td>
<td>Black</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CIU;#IO;#NC;#P</td>
<td>Drug Possession or Sale</td>
<td>Probation</td>
<td>2/14/22</td>
<td>OF;#WH;#NW</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>P/FA</td>
<td>NaN</td>
<td>NaN</td>
<td>OM</td>
<td>2/1/22</td>
<td>3/25/08</td>
<td>3/25/08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Abdal</td>
<td>Warith Habib</td>
<td>43.0</td>
<td>Black</td>
<td>Male</td>
<td>New York</td>
<td>Erie</td>
<td>IO;#SA</td>
<td>Sexual Assault</td>
<td>20 to Life</td>
<td>8/29/11</td>
<td>OF;#WH;#NW;#WT</td>
<td>F/MFE</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DNA</td>
<td>MWID</td>
<td>OM</td>
<td>9/1/99</td>
<td>6/6/83</td>
<td>9/1/99</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Abernathy</td>
<td>Christopher</td>
<td>17.0</td>
<td>White</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CIU;#CV;#H;#IO;#JV;#SA</td>
<td>Murder</td>
<td>Life without parole</td>
<td>2/13/15</td>
<td>OF;#WH;#NW;#INT</td>
<td>NaN</td>
<td>FC</td>
<td>NaN</td>
<td>P/FA</td>
<td>DNA</td>
<td>NaN</td>
<td>OM</td>
<td>2/11/15</td>
<td>1/15/87</td>
<td>2/11/15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Abney</td>
<td>Quentin</td>
<td>32.0</td>
<td>Black</td>
<td>Male</td>
<td>New York</td>
<td>New York</td>
<td>CV</td>
<td>Robbery</td>
<td>20 to Life</td>
<td>5/13/19</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>MWID</td>
<td>NaN</td>
<td>1/19/12</td>
<td>3/20/06</td>
<td>1/19/12</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="subsetting-the-data-illinois" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-the-data-illinois">Subsetting the Data: Illinois</h2>
<p>Before diving into the broader data cleaning process, I decided to narrow the scope of my research question to Illinois. This choice was intentional to focus the analysis on a specific region, ensuring that the findings are both relevant and manageable within the scope of this project. Illinois was selected because of its extensive record of exoneration cases, particularly in Cook Count (Chicago), which provides a valuable dataset for analyzing systemic issues within the criminal justice system. Chicago, in particular, has long been associated with significant racial disparities and deeply entrenched problems in policing and prosecution, making it a critical focal point for this analysis<span class="citation" data-cites="wttwChicagoRanks"><sup><a href="#ref-wttwChicagoRanks" role="doc-biblioref">1</a></sup></span>. By focusing on Illinois, the dataset remains consistent in terms of jurisdictional laws and practices, allowing for a more accurate and concentrated exploration of patterns and trends in over-policing and wrongful convictions. This regional focus highlights the broader systemic failures of the criminal justice system while enabling a detailed examination of one of the most historically inequitable jurisdictions in terms of racial justice.</p>
<section id="filtering-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="filtering-the-dataset">Filtering the Dataset</h3>
<p>To isolate Illinois cases, the dataset was filtered by the state column, retaining only rows where the value matched “Illinois.” This step reduced the dataset to 548 rows, making it more manageable for analysis and visualization. Below is a preview of the filtered dataset:</p>
<div id="cell-6" class="cell" data-execution_count="166">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter Data for Illinois: </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df[<span class="st">'State'</span>] <span class="op">==</span> <span class="st">'Illinois'</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of exonerees for Illinois subset: "</span> , df.shape[<span class="dv">0</span>]) </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of exonerees for Illinois subset:  548</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="166">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Last Name</th>
<th data-quarto-table-cell-role="th">First Name</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Race</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">County</th>
<th data-quarto-table-cell-role="th">Tags</th>
<th data-quarto-table-cell-role="th">Worst Crime Display</th>
<th data-quarto-table-cell-role="th">Sentence</th>
<th data-quarto-table-cell-role="th">Posting Date</th>
<th data-quarto-table-cell-role="th">OM Tags</th>
<th data-quarto-table-cell-role="th">F/MFE</th>
<th data-quarto-table-cell-role="th">FC</th>
<th data-quarto-table-cell-role="th">ILD</th>
<th data-quarto-table-cell-role="th">P/FA</th>
<th data-quarto-table-cell-role="th">DNA</th>
<th data-quarto-table-cell-role="th">MWID</th>
<th data-quarto-table-cell-role="th">OM</th>
<th data-quarto-table-cell-role="th">Date of Exoneration</th>
<th data-quarto-table-cell-role="th">Date of 1st Conviction</th>
<th data-quarto-table-cell-role="th">Date of Release</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Abbott</td>
<td>Cinque</td>
<td>19.0</td>
<td>Black</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CIU;#IO;#NC;#P</td>
<td>Drug Possession or Sale</td>
<td>Probation</td>
<td>2/14/22</td>
<td>OF;#WH;#NW</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>P/FA</td>
<td>NaN</td>
<td>NaN</td>
<td>OM</td>
<td>2/1/22</td>
<td>3/25/08</td>
<td>3/25/08</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Abernathy</td>
<td>Christopher</td>
<td>17.0</td>
<td>White</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CIU;#CV;#H;#IO;#JV;#SA</td>
<td>Murder</td>
<td>Life without parole</td>
<td>2/13/15</td>
<td>OF;#WH;#NW;#INT</td>
<td>NaN</td>
<td>FC</td>
<td>NaN</td>
<td>P/FA</td>
<td>DNA</td>
<td>NaN</td>
<td>OM</td>
<td>2/11/15</td>
<td>1/15/87</td>
<td>2/11/15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Abrego</td>
<td>Eruby</td>
<td>20.0</td>
<td>Hispanic</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CDC;#H;#IO</td>
<td>Murder</td>
<td>90 years</td>
<td>8/25/22</td>
<td>OF;#WH;#NW;#WT;#INT;#PJ</td>
<td>NaN</td>
<td>FC</td>
<td>NaN</td>
<td>P/FA</td>
<td>NaN</td>
<td>MWID</td>
<td>OM</td>
<td>7/21/22</td>
<td>9/22/04</td>
<td>7/21/22</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>Adams</td>
<td>Demetris</td>
<td>22.0</td>
<td>Black</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CIU;#IO;#NC;#P</td>
<td>Drug Possession or Sale</td>
<td>1 year</td>
<td>4/13/20</td>
<td>OF;#WH;#NW</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>P/FA</td>
<td>NaN</td>
<td>NaN</td>
<td>OM</td>
<td>2/11/20</td>
<td>9/8/04</td>
<td>12/26/04</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Adams</td>
<td>Kenneth</td>
<td>22.0</td>
<td>Black</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CDC;#H;#IO;#JI;#SA</td>
<td>Murder</td>
<td>75 years</td>
<td>8/29/11</td>
<td>PR;#OF;#WH;#NW;#KP;#WT</td>
<td>F/MFE</td>
<td>NaN</td>
<td>NaN</td>
<td>P/FA</td>
<td>DNA</td>
<td>MWID</td>
<td>OM</td>
<td>7/2/96</td>
<td>10/20/78</td>
<td>6/14/96</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="handling-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="handling-missing-data">Handling Missing Data</h2>
<section id="identifying-missing-data" class="level3">
<h3 class="anchored" data-anchor-id="identifying-missing-data">Identifying Missing Data</h3>
<p>Missing values are identified using <code>isnull()</code> to determine their extent and distribution across the dataset. The goal is to ensure that no critical data gaps remain unaddressed before proceeding with analysis.</p>
<div id="cell-8" class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Managing Missing Data - Identifying which columns have a lot of missing data:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>na_counts <span class="op">=</span> df.isna().<span class="bu">sum</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(na_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Last Name                   0
First Name                  0
Age                         1
Race                        0
Sex                         0
State                       0
County                      0
Tags                       15
Worst Crime Display         0
Sentence                    0
Posting Date                0
OM Tags                    70
F/MFE                     474
FC                        410
ILD                       440
P/FA                       67
DNA                       482
MWID                      442
OM                         70
Date of Exoneration         0
Date of 1st Conviction      0
Date of Release             0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="handling-missing-data-1" class="level3">
<h3 class="anchored" data-anchor-id="handling-missing-data-1">Handling Missing Data</h3>
<section id="rationale-for-dropping-columns" class="level4">
<h4 class="anchored" data-anchor-id="rationale-for-dropping-columns">Rationale for Dropping Columns</h4>
<p>The following columns were removed due to excessive missing data:</p>
<ul>
<li><strong>F/MFE, ILD, P/FA, DNA, MWID, FC:</strong> Each of these columns had more than 50% missing values, which made them unreliable for meaningful analysis. Removing them ensures the dataset remains robust and manageable without introducing bias from imputation.</li>
</ul>
<p><strong>Retaining “OM” and “OM Tags” Columns</strong> Initially, I removed the OM (Official Misconduct) and OM Tags columns, assuming their information would be captured in the general Tags column. However, during the exploratory data analysis (EDA), I discovered that these columns contained unique and valuable insights not present in the Tags column; as a result I retained them for further analysis.</p>
<div id="cell-10" class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop columns with excessive missing values: </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df_original <span class="op">=</span> df.copy()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>df.drop(columns <span class="op">=</span> [<span class="st">'F/MFE'</span>, <span class="st">'ILD'</span>, <span class="st">'P/FA'</span>, <span class="st">'DNA'</span>, <span class="st">'MWID'</span>, <span class="st">'FC'</span>], inplace <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualizing-missing-data" class="level4">
<h4 class="anchored" data-anchor-id="visualizing-missing-data">Visualizing Missing Data</h4>
<p>To better understand the distribution of missing values, a heatmap is generated. This visualization provides a clear overview of where missing values occur, helping to decide which columns or rows to address in subsequent steps.</p>
<section id="heatmap-of-missing-values-before-cleaning" class="level5">
<h5 class="anchored" data-anchor-id="heatmap-of-missing-values-before-cleaning">Heatmap of Missing Values (Before Cleaning)</h5>
<p>A heatmap is generated to visualize the extent of missing data before cleaning. Columns with a high proportion of missing values are easily identifiable, providing a clear justification for their removal.</p>
<div id="cell-12" class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Heatmap of missing data before cleaning:</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>sns.heatmap(df_original.isnull(), cbar<span class="op">=</span><span class="va">False</span>, cmap<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Heatmap of Missing Data (Before Cleaning)'</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-6-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="heatmap-of-missing-values-after-cleaning" class="level5">
<h5 class="anchored" data-anchor-id="heatmap-of-missing-values-after-cleaning">Heatmap of Missing Values (After Cleaning)</h5>
<p>A second heatmap is generated after cleaning to confirm that all unnecessary columns with excessive missing values have been removed. This ensures the dataset is now complete and ready for further analysis.</p>
<div id="cell-14" class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Heatmap of missing data after cleaning:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>sns.heatmap(df.isnull(), cbar<span class="op">=</span><span class="va">False</span>, cmap<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Heatmap of Missing Data (After Cleaning)'</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="column-standardization" class="level2">
<h2 class="anchored" data-anchor-id="column-standardization">Column Standardization</h2>
<p>To ensure consistency and simplify future operations, all column names were standardized by converting them to lowercase and replacing spaces with underscores (_). This transformation enhances readability, aligns with Python’s naming conventions, and makes column names easier to reference in code. For example, a column originally labeled First Name is now first_name.</p>
<div id="cell-16" class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize column names by converting to lowercase and replacing spaces with '_':</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> df.columns.<span class="bu">str</span>.lower().<span class="bu">str</span>.replace(<span class="st">' '</span>, <span class="st">'_'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['last_name', 'first_name', 'age', 'race', 'sex', 'state', 'county',
       'tags', 'worst_crime_display', 'sentence', 'posting_date', 'om_tags',
       'om', 'date_of_exoneration', 'date_of_1st_conviction',
       'date_of_release'],
      dtype='object')</code></pre>
</div>
</div>
<section id="text-value-standardization" class="level3">
<h3 class="anchored" data-anchor-id="text-value-standardization">Text Value Standardization</h3>
<p>Additionally, the sex column was converted to lowercase to maintain uniformity across textual data. This step ensures that values like “Male” and “male” are treated equivalently during analysis, reducing potential discrepancies caused by case sensitivity.</p>
<div id="cell-18" class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert sex values to lowercase: </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'sex'</span>] <span class="op">=</span> df[<span class="st">'sex'</span>].<span class="bu">str</span>.lower()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'sex'</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="172">
<pre><code>1     male
3     male
5     male
10    male
15    male
Name: sex, dtype: object</code></pre>
</div>
</div>
</section>
</section>
<section id="data-type-correction-and-formatting" class="level2">
<h2 class="anchored" data-anchor-id="data-type-correction-and-formatting">Data Type Correction and Formatting</h2>
<p>Accurate data type formatting is essential for effective analysis. This section ensures that all variables are correctly identified as numerical, categorical, or date-time types so that they are ready for further processing.</p>
<div id="cell-20" class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display data types for each column:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>last_name                  object
first_name                 object
age                       float64
race                       object
sex                        object
state                      object
county                     object
tags                       object
worst_crime_display        object
sentence                   object
posting_date               object
om_tags                    object
om                         object
date_of_exoneration        object
date_of_1st_conviction     object
date_of_release            object
dtype: object</code></pre>
</div>
</div>
<section id="data-type-correction-for-textual-data" class="level3">
<h3 class="anchored" data-anchor-id="data-type-correction-for-textual-data">Data Type Correction for Textual Data</h3>
<p>Upon reviewing the data types, it was noted that several columns, such as Last Name, First Name, Race, State, County, and Worst Crime Display, were classified as object. While this is acceptable for textual data, converting these columns to string ensures consistency and prevents potential issues when performing text-specific operations. This transformation also allows for better optimization and clarity in the data processing pipeline. The changes were necessary to standardize the dataset and ensure compatibility with downstream analysis tasks.</p>
<div id="cell-22" class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert relevant columns to string type</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>string_columns <span class="op">=</span> [<span class="st">'last_name'</span>, <span class="st">'first_name'</span>, <span class="st">'race'</span>, <span class="st">'sex'</span>, <span class="st">'state'</span>, <span class="st">'county'</span>, <span class="st">'worst_crime_display'</span>]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df[string_columns] <span class="op">=</span> df[string_columns].astype(<span class="st">'string'</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check updated data types</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>last_name                 string[python]
first_name                string[python]
age                              float64
race                      string[python]
sex                       string[python]
state                     string[python]
county                    string[python]
tags                              object
worst_crime_display       string[python]
sentence                          object
posting_date                      object
om_tags                           object
om                                object
date_of_exoneration               object
date_of_1st_conviction            object
date_of_release                   object
dtype: object</code></pre>
</div>
</div>
</section>
<section id="date-time-conversion" class="level3">
<h3 class="anchored" data-anchor-id="date-time-conversion">Date-Time Conversion</h3>
<p>All date columns (<code>posting_date</code>, <code>date_of_exoneration</code>, <code>date_of_1st_conviction</code>, <code>date_of_release</code>) are converted to <code>datetime</code> format. This transformation ensures consistency and allows for easier time-based calculations, such as measuring the time between conviction and exoneration.</p>
<div id="cell-24" class="cell" data-execution_count="175">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date columns into datetime format:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> [<span class="st">'posting_date'</span>, <span class="st">'date_of_exoneration'</span>, <span class="st">'date_of_1st_conviction'</span>, <span class="st">'date_of_release'</span>]:</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert with explicit format (MM/DD/YY):</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    df[col] <span class="op">=</span> pd.to_datetime(df[col], <span class="bu">format</span><span class="op">=</span><span class="st">'%m/</span><span class="sc">%d</span><span class="st">/%y'</span>, errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[[<span class="st">'posting_date'</span>, <span class="st">'date_of_exoneration'</span>, <span class="st">'date_of_1st_conviction'</span>, <span class="st">'date_of_release'</span>]].head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   posting_date date_of_exoneration date_of_1st_conviction date_of_release
1    2022-02-14          2022-02-01             2008-03-25      2008-03-25
3    2015-02-13          2015-02-11             1987-01-15      2015-02-11
5    2022-08-25          2022-07-21             2004-09-22      2022-07-21
10   2020-04-13          2020-02-11             2004-09-08      2004-12-26
15   2011-08-29          1996-07-02             1978-10-20      1996-06-14</code></pre>
</div>
</div>
<div id="cell-25" class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify updated data types:</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>last_name                 string[python]
first_name                string[python]
age                              float64
race                      string[python]
sex                       string[python]
state                     string[python]
county                    string[python]
tags                              object
worst_crime_display       string[python]
sentence                          object
posting_date              datetime64[ns]
om_tags                           object
om                                object
date_of_exoneration       datetime64[ns]
date_of_1st_conviction    datetime64[ns]
date_of_release           datetime64[ns]
dtype: object</code></pre>
</div>
</div>
</section>
<section id="standardizing-the-sentence-column" class="level3">
<h3 class="anchored" data-anchor-id="standardizing-the-sentence-column">Standardizing the <code>sentence</code> Column</h3>
<p>The <code>sentence</code> column contains textual descriptions of sentencing outcomes, including terms like “Life without parole,” “Death,” or a specified number of years. To facilitate analysis, this column is transformed into a numerical format (<code>sentence_in_years</code>) by converting life sentences and probation to placeholder values and handling ranges or mixed units (e.g., years and months).</p>
<div id="cell-27" class="cell" data-execution_count="177">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print unique sentencing values for a better idea on how to best clean column: </span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>unique_sentences <span class="op">=</span> df[<span class="st">'sentence'</span>].unique()</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(unique_sentences)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['Probation' 'Life without parole' '90 years' '1 year' '75 years'
 '30 years' '55 years' '2 years' '3 years' '6 years' '45 years'
 '1 year and 6 months' '50 years' '60 years' 'Life' '80 years' '18 years'
 '4 years' '85 years' '20 years' '35 years' '2 years and 6 months'
 '82 years' '12 years' 'Not sentenced' '22 years' '32 years' 'Death'
 '5 years' '40 years' '25 years' '26 years' '4 years and 6 months'
 '9 years' '48 years' '30 days' '84 years' '3 months and 25 days'
 '2 years and 2 months' '3 months' '44 years' '6 months' '25 to 50 years'
 '29 years' '23 years' '31 years' '11 years' '8 years' '24 years'
 '3 years and four months' '42 years' '3 years and 6 months' '65 years'
 '76 years' '15 years' '50 to Life' '86 years' '70 years' '28 years'
 '13 years' '47 years' '36 years' '18 months' '1 year and 4 months'
 '8 years and 6 months' '6 years and 6 months' '58 years' '95 years'
 '7 years' '34 years' '62 years' '27 years' '69 years' '57 years'
 '50 to 100 years' '4 months' '4 years and 3 months' '37 years' '10 years'
 '67 years' '46 years' '17 years' '10 to 22 years' '6 years and 7 months'
 '5 years and 6 months' '2 Years']</code></pre>
</div>
</div>
<section id="transforming-the-sentence-column" class="level5">
<h5 class="anchored" data-anchor-id="transforming-the-sentence-column">Transforming the <code>sentence</code> Column</h5>
<p>The <code>sentence</code> column is cleaned to convert textual descriptions into numerical values: 1. Probation and Not Sentenced are set to <code>0</code>. 2. Life sentences and the death penalty are represented as <code>100</code> for placeholder analysis. 3. Ranges (e.g., “25 to 50 years”) are averaged to a single value. 4. Years and months are combined into total years for uniformity.</p>
<p>This standardization facilitates meaningful comparisons and quantitative analysis of sentencing patterns.</p>
<div id="cell-29" class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_sentence(value):</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">""" Cleans the 'sentence' column values to numeric years for numerical EDA </span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">    - Probation is represented as 0.</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">    - 'Not sentenced' is converted to np.nan.</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">    - 'Life' and 'Death' sentences are represented as 100 (placeholder).</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">    - Years and months are converted to a numeric value in years. """</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> value <span class="op">==</span> <span class="st">'Probation'</span>:</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> value <span class="op">==</span> <span class="st">'Not sentenced'</span>:</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.nan  <span class="co"># NaN for not sentenced</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">'Life'</span> <span class="kw">in</span> value <span class="kw">or</span> value <span class="op">==</span> <span class="st">'Death'</span>:</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">100</span>  <span class="co"># Placeholder for life sentences or death penalty</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">'year'</span> <span class="kw">in</span> value <span class="kw">or</span> <span class="st">'month'</span> <span class="kw">in</span> value:</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Handles ranges like '25 to 50 years'</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="st">'to'</span> <span class="kw">in</span> value:</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>            years <span class="op">=</span> [<span class="bu">int</span>(num) <span class="cf">for</span> num <span class="kw">in</span> re.findall(<span class="vs">r'\d+'</span>, value)]</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="bu">sum</span>(years) <span class="op">/</span> <span class="bu">len</span>(years)  <span class="co"># Average the range </span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Handle "X years and Y months"</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="st">'and'</span> <span class="kw">in</span> value:</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>            numbers <span class="op">=</span> [<span class="bu">float</span>(num) <span class="cf">for</span> num <span class="kw">in</span> re.findall(<span class="vs">r'\d+'</span>, value)]</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="bu">len</span>(numbers) <span class="op">==</span> <span class="dv">2</span>:  <span class="co"># Both years and months are present</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>                years, months <span class="op">=</span> numbers</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> years <span class="op">+</span> (months <span class="op">/</span> <span class="dv">12</span>)  <span class="co"># Convert months to years</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> <span class="bu">len</span>(numbers) <span class="op">==</span> <span class="dv">1</span>:  <span class="co"># Only one number is present</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> numbers[<span class="dv">0</span>]  <span class="co"># Treat it as years</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Handle only months or only years</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="st">'months'</span> <span class="kw">in</span> value:</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>            months <span class="op">=</span> <span class="bu">int</span>(re.search(<span class="vs">r'\d+'</span>, value).group())</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> months <span class="op">/</span> <span class="dv">12</span>  <span class="co"># Convert months to years</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:  <span class="co"># Only years</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="bu">int</span>(re.search(<span class="vs">r'\d+'</span>, value).group())</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.nan  <span class="co"># Anything unexpected as None</span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'sentence_in_years'</span>] <span class="op">=</span> df[<span class="st">'sentence'</span>].<span class="bu">apply</span>(clean_sentence)</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Check results</span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">'sentence'</span>, <span class="st">'sentence_in_years'</span>]].head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="178">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">sentence</th>
<th data-quarto-table-cell-role="th">sentence_in_years</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Probation</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Life without parole</td>
<td>100.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>90 years</td>
<td>90.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>1 year</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>75 years</td>
<td>75.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Probation</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Probation</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>30 years</td>
<td>30.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>55 years</td>
<td>55.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>1 year</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-30" class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check updated data types</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>last_name                 string[python]
first_name                string[python]
age                              float64
race                      string[python]
sex                       string[python]
state                     string[python]
county                    string[python]
tags                              object
worst_crime_display       string[python]
sentence                          object
posting_date              datetime64[ns]
om_tags                           object
om                                object
date_of_exoneration       datetime64[ns]
date_of_1st_conviction    datetime64[ns]
date_of_release           datetime64[ns]
sentence_in_years                float64
dtype: object</code></pre>
</div>
</div>
<p>After transforming the sentence column into a numerical format, the new column, <code>sentence_in_years</code> is now represented as a float64, which aligns with the desired structure for numerical analysis. This conversion allows for quantitative exploration of the sentencing data, such as aggregations and comparisons, during later stages of analysis. The original sentence column is retained for reference purposes, as it preserves the detailed textual descriptions that might be useful for contextual insights. The <code>tags</code>, <code>OM</code>, and <code>OM_tags</code> columns will be addressed later, so for now the datatype may remain as an object.</p>
</section>
</section>
</section>
<section id="cleaning-the-tags-and-om-tags-columns" class="level2">
<h2 class="anchored" data-anchor-id="cleaning-the-tags-and-om-tags-columns">Cleaning the <code>tags</code> and <code>OM-tags</code> Columns</h2>
<p>The <code>tags</code> and <code>OM-tags</code> columns contain important categorical information about each exoneration case. To make this data more useful for analysis, both columns were transformed into multiple binary columns, where each tag indicates the presence (<code>1</code>) or absence (<code>0</code>) of a specific feature. Additionally, a <code>tag_sum</code> column was created to capture the total number of tags associated with each case, providing a summary metric.</p>
<p>The cleaning process involved the following steps:</p>
<ol type="1">
<li><p><strong>Removing Unnecessary Characters</strong>:<br>
Unwanted characters such as <code>#</code> were removed, and delimiters were standardized to ensure consistency in the data.</p></li>
<li><p><strong>Splitting Tags</strong>:<br>
The <code>tags</code> and <code>OM-tags</code> columns were split into individual values to facilitate binary encoding.</p></li>
<li><p><strong>Renaming Binary Columns</strong>:<br>
Each binary column was renamed using clear and descriptive labels by mapping the original tags to their definitions. This mapping process translated short tag codes into their full meanings, improving interpretability. For reference, the definitions of the tags are based on the descriptions provided by the National Registry of Exonerations<span class="citation" data-cites="university_of_california_irvine_newkirk_center_for_science__society_exoneration"><sup><a href="#ref-university_of_california_irvine_newkirk_center_for_science__society_exoneration" role="doc-biblioref">2</a></sup></span>.</p></li>
<li><p><strong>Adding a <code>tag_sum</code> Column</strong>:<br>
A new column was created to calculate the total number of tags for each case, enabling easier analysis of case complexity.</p></li>
</ol>
<p>This transformation ensures the data is well-structured and ready for exploratory analysis, providing detailed insights into the systemic patterns in exoneration cases.</p>
<div id="cell-33" class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean 'tags' column:</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'tags'</span>] <span class="op">=</span> df[<span class="st">'tags'</span>].<span class="bu">str</span>.replace(<span class="st">'#'</span>, <span class="st">''</span>, regex<span class="op">=</span><span class="va">False</span>).<span class="bu">str</span>.replace(<span class="st">";"</span>, <span class="st">","</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'OM-tags'</span>] <span class="op">=</span> df[<span class="st">'om_tags'</span>].<span class="bu">str</span>.replace(<span class="st">'#'</span>, <span class="st">''</span>, regex<span class="op">=</span><span class="va">False</span>).<span class="bu">str</span>.replace(<span class="st">";"</span>, <span class="st">","</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the mapping for tags:</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>tag_mapping <span class="op">=</span> {</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"A"</span>: <span class="st">"arson"</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"BM"</span>: <span class="st">"bitemark"</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CDC"</span>: <span class="st">"co_defendant_confessed"</span>,</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CIU"</span>: <span class="st">"conviction_integrity_unit"</span>,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CSH"</span>: <span class="st">"child_sex_abuse_hysteria_case"</span>,</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CV"</span>: <span class="st">"child_victim"</span>,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"F"</span>: <span class="st">"female_exoneree"</span>,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FED"</span>: <span class="st">"federal_case"</span>,</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H"</span>: <span class="st">"homicide"</span>,</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"IO"</span>: <span class="st">"innocence_organization"</span>,</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"JI"</span>: <span class="st">"jailhouse_informant"</span>,</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"JV"</span>: <span class="st">"juvenile_defendant"</span>,</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"M"</span>: <span class="st">"misdemeanor"</span>,</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NC"</span>: <span class="st">"no_crime_case"</span>,</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"P"</span>: <span class="st">"guilty_plea_case"</span>,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"PH"</span>: <span class="st">"posthumous_exoneration"</span>,</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"SA"</span>: <span class="st">"sexual_assault"</span>,</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"SBS"</span>: <span class="st">"shaken_baby_syndrome_case"</span>,</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"PR"</span>: <span class="st">"prosecutor_misconduct"</span>,</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"OF"</span>: <span class="st">"police_officer_misconduct"</span>,</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FA"</span>: <span class="st">"forensic_analyst_misconduct"</span>,</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CW"</span>: <span class="st">"child_welfare_worker_misconduct"</span>,</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WH"</span>: <span class="st">"withheld_exculpatory_evidence"</span>,</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NW"</span>: <span class="st">"misconduct_that_is_not_withholding_evidence"</span>,</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"KP"</span>: <span class="st">"knowingly_permitting_perjury"</span>,</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WT"</span>: <span class="st">"witness_tampering_or_misconduct_interrogating_co_defendant"</span>,</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"INT"</span>: <span class="st">"misconduct_in_interrogation_of_exoneree"</span>,</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"PJ"</span>: <span class="st">"perjury_by_official"</span>,</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"PL"</span>: <span class="st">"prosecutor_lied_in_court"</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Split 'tags' and 'OM-tags' into lists:</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'tags'</span>] <span class="op">=</span> df[<span class="st">'tags'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.split(<span class="st">','</span>) <span class="cf">if</span> <span class="bu">isinstance</span>(x, <span class="bu">str</span>) <span class="cf">else</span> x)</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'OM-tags'</span>] <span class="op">=</span> df[<span class="st">'OM-tags'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.split(<span class="st">','</span>) <span class="cf">if</span> <span class="bu">isinstance</span>(x, <span class="bu">str</span>) <span class="cf">else</span> x)</span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Create binary columns for tags from both 'tags' and 'OM-tags':</span></span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> tag <span class="kw">in</span> tag_mapping.keys():</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if the tag exists in 'tags' or 'OM-tags':</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>    df[tag] <span class="op">=</span> df.<span class="bu">apply</span>(</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>        <span class="kw">lambda</span> row: <span class="dv">1</span> <span class="cf">if</span> (<span class="bu">isinstance</span>(row[<span class="st">'tags'</span>], <span class="bu">list</span>) <span class="kw">and</span> tag <span class="kw">in</span> row[<span class="st">'tags'</span>]) <span class="kw">or</span> </span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>                          (<span class="bu">isinstance</span>(row[<span class="st">'OM-tags'</span>], <span class="bu">list</span>) <span class="kw">and</span> tag <span class="kw">in</span> row[<span class="st">'OM-tags'</span>]) <span class="cf">else</span> <span class="dv">0</span>,</span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>        axis<span class="op">=</span><span class="dv">1</span></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the binary columns using the tag_mapping dictionary:</span></span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a>df.rename(columns<span class="op">=</span>tag_mapping, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Create `tag_sum` column to count the total number of tags for each exoneree:</span></span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'tag_sum'</span>] <span class="op">=</span> df[<span class="bu">list</span>(tag_mapping.values())].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb27-56"><a href="#cb27-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-57"><a href="#cb27-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the original 'tags' and 'OM-tags' columns:</span></span>
<span id="cb27-58"><a href="#cb27-58" aria-hidden="true" tabindex="-1"></a>df.drop(columns<span class="op">=</span>[<span class="st">'tags'</span>, <span class="st">'om_tags'</span>, <span class="st">'OM-tags'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb27-59"><a href="#cb27-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-60"><a href="#cb27-60" aria-hidden="true" tabindex="-1"></a>df.head()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="180">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name</th>
<th data-quarto-table-cell-role="th">first_name</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">county</th>
<th data-quarto-table-cell-role="th">worst_crime_display</th>
<th data-quarto-table-cell-role="th">sentence</th>
<th data-quarto-table-cell-role="th">posting_date</th>
<th data-quarto-table-cell-role="th">om</th>
<th data-quarto-table-cell-role="th">date_of_exoneration</th>
<th data-quarto-table-cell-role="th">date_of_1st_conviction</th>
<th data-quarto-table-cell-role="th">date_of_release</th>
<th data-quarto-table-cell-role="th">sentence_in_years</th>
<th data-quarto-table-cell-role="th">arson</th>
<th data-quarto-table-cell-role="th">bitemark</th>
<th data-quarto-table-cell-role="th">co_defendant_confessed</th>
<th data-quarto-table-cell-role="th">conviction_integrity_unit</th>
<th data-quarto-table-cell-role="th">child_sex_abuse_hysteria_case</th>
<th data-quarto-table-cell-role="th">child_victim</th>
<th data-quarto-table-cell-role="th">female_exoneree</th>
<th data-quarto-table-cell-role="th">federal_case</th>
<th data-quarto-table-cell-role="th">homicide</th>
<th data-quarto-table-cell-role="th">innocence_organization</th>
<th data-quarto-table-cell-role="th">jailhouse_informant</th>
<th data-quarto-table-cell-role="th">juvenile_defendant</th>
<th data-quarto-table-cell-role="th">misdemeanor</th>
<th data-quarto-table-cell-role="th">no_crime_case</th>
<th data-quarto-table-cell-role="th">guilty_plea_case</th>
<th data-quarto-table-cell-role="th">posthumous_exoneration</th>
<th data-quarto-table-cell-role="th">sexual_assault</th>
<th data-quarto-table-cell-role="th">shaken_baby_syndrome_case</th>
<th data-quarto-table-cell-role="th">prosecutor_misconduct</th>
<th data-quarto-table-cell-role="th">police_officer_misconduct</th>
<th data-quarto-table-cell-role="th">forensic_analyst_misconduct</th>
<th data-quarto-table-cell-role="th">child_welfare_worker_misconduct</th>
<th data-quarto-table-cell-role="th">withheld_exculpatory_evidence</th>
<th data-quarto-table-cell-role="th">misconduct_that_is_not_withholding_evidence</th>
<th data-quarto-table-cell-role="th">knowingly_permitting_perjury</th>
<th data-quarto-table-cell-role="th">witness_tampering_or_misconduct_interrogating_co_defendant</th>
<th data-quarto-table-cell-role="th">misconduct_in_interrogation_of_exoneree</th>
<th data-quarto-table-cell-role="th">perjury_by_official</th>
<th data-quarto-table-cell-role="th">prosecutor_lied_in_court</th>
<th data-quarto-table-cell-role="th">tag_sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Abbott</td>
<td>Cinque</td>
<td>19.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>Drug Possession or Sale</td>
<td>Probation</td>
<td>2022-02-14</td>
<td>OM</td>
<td>2022-02-01</td>
<td>2008-03-25</td>
<td>2008-03-25</td>
<td>0.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Abernathy</td>
<td>Christopher</td>
<td>17.0</td>
<td>White</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>Murder</td>
<td>Life without parole</td>
<td>2015-02-13</td>
<td>OM</td>
<td>2015-02-11</td>
<td>1987-01-15</td>
<td>2015-02-11</td>
<td>100.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Abrego</td>
<td>Eruby</td>
<td>20.0</td>
<td>Hispanic</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>Murder</td>
<td>90 years</td>
<td>2022-08-25</td>
<td>OM</td>
<td>2022-07-21</td>
<td>2004-09-22</td>
<td>2022-07-21</td>
<td>90.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>Adams</td>
<td>Demetris</td>
<td>22.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>Drug Possession or Sale</td>
<td>1 year</td>
<td>2020-04-13</td>
<td>OM</td>
<td>2020-02-11</td>
<td>2004-09-08</td>
<td>2004-12-26</td>
<td>1.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Adams</td>
<td>Kenneth</td>
<td>22.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>Murder</td>
<td>75 years</td>
<td>2011-08-29</td>
<td>OM</td>
<td>1996-07-02</td>
<td>1978-10-20</td>
<td>1996-06-14</td>
<td>75.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>11</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-34" class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'OM' column to binary (1 if "OM" is present, 0 otherwise)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'om'</span>] <span class="op">=</span> df[<span class="st">'om'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="dv">1</span> <span class="cf">if</span> <span class="bu">str</span>(x).strip().upper() <span class="op">==</span> <span class="st">"OM"</span> <span class="cf">else</span> <span class="dv">0</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify the transformation</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">'om'</span>].value_counts())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>om
1    478
0     70
Name: count, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="merge-with-geocoded-counties" class="level2">
<h2 class="anchored" data-anchor-id="merge-with-geocoded-counties">Merge with Geocoded Counties</h2>
<p>The geocoded Illinois counties from <em>Data Collection</em> were merged into the main dataset:</p>
<ol type="1">
<li><p><strong>Load and Standardize Data</strong>: Geocoded data was loaded, and column names were standardized to lowercase for consistency.</p></li>
<li><p><strong>Filter Relevant Counties</strong>: The geocoded data was filtered to include only counties present in the main dataset.</p></li>
<li><p><strong>Merge Data</strong>: Using a left join on <code>county</code> and <code>state</code>, geographic details (<code>geocode_address</code>, <code>latitude</code>, and <code>longitude</code>) were added to the dataset.</p></li>
</ol>
<div id="cell-36" class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the geocoded population data from Data Collection</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>geocode_unique <span class="op">=</span> pd.read_csv(<span class="st">"../../data/raw-data/geocoded_population_counties.csv"</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns to lowercase for consistency</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>geocode_unique.rename(columns<span class="op">=</span>{<span class="st">"County"</span>: <span class="st">"county"</span>, <span class="st">"State"</span>: <span class="st">"state"</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter geocode_unique to only include counties present in df</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>geocode_unique_filtered <span class="op">=</span> geocode_unique[</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    geocode_unique[[<span class="st">'county'</span>, <span class="st">'state'</span>]].<span class="bu">apply</span>(<span class="bu">tuple</span>, axis<span class="op">=</span><span class="dv">1</span>).isin(df[[<span class="st">'county'</span>, <span class="st">'state'</span>]].<span class="bu">apply</span>(<span class="bu">tuple</span>, axis<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the filtered geocoding data into df</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.merge(geocode_unique_filtered, on<span class="op">=</span>[<span class="st">'county'</span>, <span class="st">'state'</span>], how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the relevant columns to verify the merge</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[[<span class="st">'state'</span>, <span class="st">'county'</span>, <span class="st">'geocode_address'</span>, <span class="st">'latitude'</span>, <span class="st">'longitude'</span>]].head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      state county                       geocode_address   latitude  longitude
0  Illinois   Cook  Cook County, Illinois, United States  41.819738 -87.756525
1  Illinois   Cook  Cook County, Illinois, United States  41.819738 -87.756525
2  Illinois   Cook  Cook County, Illinois, United States  41.819738 -87.756525
3  Illinois   Cook  Cook County, Illinois, United States  41.819738 -87.756525
4  Illinois   Cook  Cook County, Illinois, United States  41.819738 -87.756525</code></pre>
</div>
</div>
</section>
<section id="calculating-years-lost" class="level2">
<h2 class="anchored" data-anchor-id="calculating-years-lost">Calculating Years Lost</h2>
<p>To quantify the <code>years_lost</code> due to wrongful conviction, this step calculates the difference in years between an individual’s <code>date_of_1st_conviction</code> and their <code>date_of_release</code>.</p>
<div id="cell-38" class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate "years lost" as the difference in years between release and conviction:</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'years_lost'</span>] <span class="op">=</span> (df[<span class="st">'date_of_release'</span>] <span class="op">-</span> df[<span class="st">'date_of_1st_conviction'</span>]).dt.days <span class="op">/</span> <span class="fl">365.25</span> <span class="co"># Dividing by 365.25 accounts for leap years</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Round the years lost to 2 decimal places:</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'years_lost'</span>] <span class="op">=</span> df[<span class="st">'years_lost'</span>].<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Updated DataFrame:</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[[<span class="st">'date_of_1st_conviction'</span>, <span class="st">'date_of_release'</span>, <span class="st">'years_lost'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    date_of_1st_conviction date_of_release  years_lost
0               2008-03-25      2008-03-25        0.00
1               1987-01-15      2015-02-11       28.07
2               2004-09-22      2022-07-21       17.83
3               2004-09-08      2004-12-26        0.30
4               1978-10-20      1996-06-14       17.65
..                     ...             ...         ...
543             2005-04-13      2005-04-13        0.00
544             2005-01-11      2006-07-12        1.50
545             2005-04-11      2006-12-07        1.66
546             2003-04-21      2005-03-10        1.89
547             1994-09-20      2005-01-31       10.37

[548 rows x 3 columns]</code></pre>
</div>
</div>
</section>
<section id="column-reorganization" class="level2">
<h2 class="anchored" data-anchor-id="column-reorganization">Column Reorganization</h2>
<p>To improve readability and logical flow, the following changes were made to the column order:</p>
<ol type="1">
<li><p><strong>Align Sentencing Data</strong>:<br>
The <code>sentence_in_years</code> column was moved to appear immediately after <code>sentence</code>, ensuring that the cleaned numerical representation of sentencing data is logically aligned with its original textual description.</p></li>
<li><p><strong>Reorganize Release and Years Lost</strong>:<br>
The <code>years_lost</code> column was moved to appear immediately after <code>date_of_release</code>, facilitating easier comparison of release dates and the calculated time lost due to wrongful incarceration.</p></li>
<li><p><strong>Group Geographic Data</strong>:<br>
The <code>latitude</code> and <code>longitude</code> columns were moved to follow the <code>county</code> column, grouping geographic information together.</p></li>
</ol>
<div id="cell-40" class="cell" data-execution_count="184">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reordering columns:</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> <span class="bu">list</span>(df.columns)  </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Aligning sentencing data:  </span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>columns.insert(columns.index(<span class="st">'sentence'</span>) <span class="op">+</span> <span class="dv">1</span>, columns.pop(columns.index(<span class="st">'sentence_in_years'</span>)))  <span class="co"># Move 'sentence_in_years'</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Reorganizing release and years lost</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>columns.insert(columns.index(<span class="st">'date_of_release'</span>) <span class="op">+</span><span class="dv">1</span>, columns.pop(columns.index(<span class="st">'years_lost'</span>))) <span class="co">#Move 'years_lost' </span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Move 'latitude' and 'longitude' after 'county'</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>columns.insert(columns.index(<span class="st">'county'</span>) <span class="op">+</span> <span class="dv">1</span>, columns.pop(columns.index(<span class="st">'latitude'</span>)))</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>columns.insert(columns.index(<span class="st">'county'</span>) <span class="op">+</span> <span class="dv">2</span>, columns.pop(columns.index(<span class="st">'longitude'</span>)))</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[columns]  <span class="co"># Reorder DataFrame</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="184">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name</th>
<th data-quarto-table-cell-role="th">first_name</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">county</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">worst_crime_display</th>
<th data-quarto-table-cell-role="th">sentence</th>
<th data-quarto-table-cell-role="th">sentence_in_years</th>
<th data-quarto-table-cell-role="th">posting_date</th>
<th data-quarto-table-cell-role="th">om</th>
<th data-quarto-table-cell-role="th">date_of_exoneration</th>
<th data-quarto-table-cell-role="th">date_of_1st_conviction</th>
<th data-quarto-table-cell-role="th">date_of_release</th>
<th data-quarto-table-cell-role="th">years_lost</th>
<th data-quarto-table-cell-role="th">arson</th>
<th data-quarto-table-cell-role="th">bitemark</th>
<th data-quarto-table-cell-role="th">co_defendant_confessed</th>
<th data-quarto-table-cell-role="th">conviction_integrity_unit</th>
<th data-quarto-table-cell-role="th">child_sex_abuse_hysteria_case</th>
<th data-quarto-table-cell-role="th">child_victim</th>
<th data-quarto-table-cell-role="th">female_exoneree</th>
<th data-quarto-table-cell-role="th">federal_case</th>
<th data-quarto-table-cell-role="th">homicide</th>
<th data-quarto-table-cell-role="th">innocence_organization</th>
<th data-quarto-table-cell-role="th">jailhouse_informant</th>
<th data-quarto-table-cell-role="th">juvenile_defendant</th>
<th data-quarto-table-cell-role="th">misdemeanor</th>
<th data-quarto-table-cell-role="th">no_crime_case</th>
<th data-quarto-table-cell-role="th">guilty_plea_case</th>
<th data-quarto-table-cell-role="th">posthumous_exoneration</th>
<th data-quarto-table-cell-role="th">sexual_assault</th>
<th data-quarto-table-cell-role="th">shaken_baby_syndrome_case</th>
<th data-quarto-table-cell-role="th">prosecutor_misconduct</th>
<th data-quarto-table-cell-role="th">police_officer_misconduct</th>
<th data-quarto-table-cell-role="th">forensic_analyst_misconduct</th>
<th data-quarto-table-cell-role="th">child_welfare_worker_misconduct</th>
<th data-quarto-table-cell-role="th">withheld_exculpatory_evidence</th>
<th data-quarto-table-cell-role="th">misconduct_that_is_not_withholding_evidence</th>
<th data-quarto-table-cell-role="th">knowingly_permitting_perjury</th>
<th data-quarto-table-cell-role="th">witness_tampering_or_misconduct_interrogating_co_defendant</th>
<th data-quarto-table-cell-role="th">misconduct_in_interrogation_of_exoneree</th>
<th data-quarto-table-cell-role="th">perjury_by_official</th>
<th data-quarto-table-cell-role="th">prosecutor_lied_in_court</th>
<th data-quarto-table-cell-role="th">tag_sum</th>
<th data-quarto-table-cell-role="th">geocode_address</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Abbott</td>
<td>Cinque</td>
<td>19.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Drug Possession or Sale</td>
<td>Probation</td>
<td>0.0</td>
<td>2022-02-14</td>
<td>1</td>
<td>2022-02-01</td>
<td>2008-03-25</td>
<td>2008-03-25</td>
<td>0.00</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Abernathy</td>
<td>Christopher</td>
<td>17.0</td>
<td>White</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Murder</td>
<td>Life without parole</td>
<td>100.0</td>
<td>2015-02-13</td>
<td>1</td>
<td>2015-02-11</td>
<td>1987-01-15</td>
<td>2015-02-11</td>
<td>28.07</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Abrego</td>
<td>Eruby</td>
<td>20.0</td>
<td>Hispanic</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Murder</td>
<td>90 years</td>
<td>90.0</td>
<td>2022-08-25</td>
<td>1</td>
<td>2022-07-21</td>
<td>2004-09-22</td>
<td>2022-07-21</td>
<td>17.83</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>9</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Adams</td>
<td>Demetris</td>
<td>22.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Drug Possession or Sale</td>
<td>1 year</td>
<td>1.0</td>
<td>2020-04-13</td>
<td>1</td>
<td>2020-02-11</td>
<td>2004-09-08</td>
<td>2004-12-26</td>
<td>0.30</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Adams</td>
<td>Kenneth</td>
<td>22.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Murder</td>
<td>75 years</td>
<td>75.0</td>
<td>2011-08-29</td>
<td>1</td>
<td>1996-07-02</td>
<td>1978-10-20</td>
<td>1996-06-14</td>
<td>17.65</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>11</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Adams</td>
<td>Seneca</td>
<td>20.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Assault</td>
<td>Probation</td>
<td>0.0</td>
<td>2014-12-08</td>
<td>1</td>
<td>2006-12-19</td>
<td>2006-05-18</td>
<td>2006-05-18</td>
<td>0.00</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>6</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Adams</td>
<td>Tari</td>
<td>18.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Assault</td>
<td>Probation</td>
<td>0.0</td>
<td>2014-12-08</td>
<td>1</td>
<td>2006-12-19</td>
<td>2006-05-18</td>
<td>2006-05-18</td>
<td>0.00</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>6</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Agnew</td>
<td>Gregory</td>
<td>28.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Lake</td>
<td>42.332738</td>
<td>-87.993955</td>
<td>Robbery</td>
<td>30 years</td>
<td>30.0</td>
<td>2018-01-18</td>
<td>0</td>
<td>2001-11-07</td>
<td>1988-06-14</td>
<td>2001-11-07</td>
<td>13.40</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>Lake County, Illinois, United States</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Aguirre</td>
<td>Omar</td>
<td>28.0</td>
<td>Hispanic</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Murder</td>
<td>55 years</td>
<td>55.0</td>
<td>2011-08-29</td>
<td>1</td>
<td>2003-02-18</td>
<td>1999-03-09</td>
<td>2002-12-18</td>
<td>3.78</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>Cook County, Illinois, United States</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Ali</td>
<td>Chauncey</td>
<td>37.0</td>
<td>Black</td>
<td>male</td>
<td>Illinois</td>
<td>Cook</td>
<td>41.819738</td>
<td>-87.756525</td>
<td>Drug Possession or Sale</td>
<td>1 year</td>
<td>1.0</td>
<td>2020-04-13</td>
<td>1</td>
<td>2020-02-11</td>
<td>2007-01-17</td>
<td>2007-06-27</td>
<td>0.44</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>Cook County, Illinois, United States</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="exporting-the-cleaned-dataset" class="level2">
<h2 class="anchored" data-anchor-id="exporting-the-cleaned-dataset">Exporting the Cleaned Dataset</h2>
<p>The final cleaned dataset is saved as <code>illinois_exoneration_data.csv</code>, ensuring that all preprocessing steps are reproducible, and the dataset can be used consistently across various analysis stages.</p>
<div id="cell-42" class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df.to_csv(<span class="st">'../../data/processed-data/illinois_exoneration_data.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data saved to 'illinois_exoneration_data.csv'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data saved to 'illinois_exoneration_data.csv'</code></pre>
</div>
</div>
</section>
</section>
<section id="illinois-arrest-data-cleaning" class="level1">
<h1>Illinois Arrest Data Cleaning</h1>
<section id="introduction-and-motivation-1" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-motivation-1">Introduction and Motivation</h2>
<p>This section documents the steps taken to clean and preprocess the Illinois arrest dataset. Similarly to the U.S. exoneration dataset, the goal is to transform the raw data into a structured and reliable format for analysis. However, this dataset required fewer cleaning steps due to its uniform structure and consistent formatting.</p>
<p>By the end of this phase, the Illinois arrest dataset will be well-prepared for exploratory data analysis (EDA) and integration into broader investigative workflows.</p>
</section>
<section id="initial-overview-of-the-dataset-1" class="level2">
<h2 class="anchored" data-anchor-id="initial-overview-of-the-dataset-1">Initial Overview of the Dataset</h2>
<p>The dataset is first loaded to inspect its structure and contents.</p>
<div id="cell-45" class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load exoneration dataset:</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>arrest_data <span class="op">=</span> pd.read_csv(<span class="st">'../../data/raw-data/illinois_arrest_explorer_data.csv'</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Initial Dataset: "</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="va">None</span>) <span class="co"># Enables display of every column</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>arrest_data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Initial Dataset: </code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="186">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">county_Adams</th>
<th data-quarto-table-cell-role="th">county_Alexander</th>
<th data-quarto-table-cell-role="th">county_Bond</th>
<th data-quarto-table-cell-role="th">county_Boone</th>
<th data-quarto-table-cell-role="th">county_Brown</th>
<th data-quarto-table-cell-role="th">county_Bureau</th>
<th data-quarto-table-cell-role="th">county_Calhoun</th>
<th data-quarto-table-cell-role="th">county_Carroll</th>
<th data-quarto-table-cell-role="th">county_Cass</th>
<th data-quarto-table-cell-role="th">county_Champaign</th>
<th data-quarto-table-cell-role="th">county_Christian</th>
<th data-quarto-table-cell-role="th">county_Clark</th>
<th data-quarto-table-cell-role="th">county_Clay</th>
<th data-quarto-table-cell-role="th">county_Clinton</th>
<th data-quarto-table-cell-role="th">county_Coles</th>
<th data-quarto-table-cell-role="th">county_Cook Chicago</th>
<th data-quarto-table-cell-role="th">county_Cook County Suburbs</th>
<th data-quarto-table-cell-role="th">county_Crawford</th>
<th data-quarto-table-cell-role="th">county_Cumberland</th>
<th data-quarto-table-cell-role="th">county_Dekalb</th>
<th data-quarto-table-cell-role="th">county_Dewitt</th>
<th data-quarto-table-cell-role="th">county_Douglas</th>
<th data-quarto-table-cell-role="th">county_Dupage</th>
<th data-quarto-table-cell-role="th">county_Edgar</th>
<th data-quarto-table-cell-role="th">county_Edwards</th>
<th data-quarto-table-cell-role="th">county_Effingham</th>
<th data-quarto-table-cell-role="th">county_Fayette</th>
<th data-quarto-table-cell-role="th">county_Ford</th>
<th data-quarto-table-cell-role="th">county_Franklin</th>
<th data-quarto-table-cell-role="th">county_Fulton</th>
<th data-quarto-table-cell-role="th">county_Gallatin</th>
<th data-quarto-table-cell-role="th">county_Greene</th>
<th data-quarto-table-cell-role="th">county_Grundy</th>
<th data-quarto-table-cell-role="th">county_Hamilton</th>
<th data-quarto-table-cell-role="th">county_Hancock</th>
<th data-quarto-table-cell-role="th">county_Hardin</th>
<th data-quarto-table-cell-role="th">county_Henderson</th>
<th data-quarto-table-cell-role="th">county_Henry</th>
<th data-quarto-table-cell-role="th">county_Iroquois</th>
<th data-quarto-table-cell-role="th">county_Jackson</th>
<th data-quarto-table-cell-role="th">county_Jasper</th>
<th data-quarto-table-cell-role="th">county_Jefferson</th>
<th data-quarto-table-cell-role="th">county_Jersey</th>
<th data-quarto-table-cell-role="th">county_Jo Daviess</th>
<th data-quarto-table-cell-role="th">county_Johnson</th>
<th data-quarto-table-cell-role="th">county_Kane</th>
<th data-quarto-table-cell-role="th">county_Kankakee</th>
<th data-quarto-table-cell-role="th">county_Kendall</th>
<th data-quarto-table-cell-role="th">county_Knox</th>
<th data-quarto-table-cell-role="th">county_Lake</th>
<th data-quarto-table-cell-role="th">county_Lasalle</th>
<th data-quarto-table-cell-role="th">county_Lawrence</th>
<th data-quarto-table-cell-role="th">county_Lee</th>
<th data-quarto-table-cell-role="th">county_Livingston</th>
<th data-quarto-table-cell-role="th">county_Logan</th>
<th data-quarto-table-cell-role="th">county_Macon</th>
<th data-quarto-table-cell-role="th">county_Macoupin</th>
<th data-quarto-table-cell-role="th">county_Madison</th>
<th data-quarto-table-cell-role="th">county_Marion</th>
<th data-quarto-table-cell-role="th">county_Marshall</th>
<th data-quarto-table-cell-role="th">county_Mason</th>
<th data-quarto-table-cell-role="th">county_Massac</th>
<th data-quarto-table-cell-role="th">county_Mcdonough</th>
<th data-quarto-table-cell-role="th">county_Mchenry</th>
<th data-quarto-table-cell-role="th">county_Mclean</th>
<th data-quarto-table-cell-role="th">county_Menard</th>
<th data-quarto-table-cell-role="th">county_Mercer</th>
<th data-quarto-table-cell-role="th">county_Monroe</th>
<th data-quarto-table-cell-role="th">county_Montgomery</th>
<th data-quarto-table-cell-role="th">county_Morgan</th>
<th data-quarto-table-cell-role="th">county_Moultrie</th>
<th data-quarto-table-cell-role="th">county_Non County Agencies</th>
<th data-quarto-table-cell-role="th">county_Ogle</th>
<th data-quarto-table-cell-role="th">county_Peoria</th>
<th data-quarto-table-cell-role="th">county_Perry</th>
<th data-quarto-table-cell-role="th">county_Piatt</th>
<th data-quarto-table-cell-role="th">county_Pike</th>
<th data-quarto-table-cell-role="th">county_Pope</th>
<th data-quarto-table-cell-role="th">county_Pulaski</th>
<th data-quarto-table-cell-role="th">county_Putnam</th>
<th data-quarto-table-cell-role="th">county_Randolph</th>
<th data-quarto-table-cell-role="th">county_Richland</th>
<th data-quarto-table-cell-role="th">county_Rock Island</th>
<th data-quarto-table-cell-role="th">county_Saline</th>
<th data-quarto-table-cell-role="th">county_Sangamon</th>
<th data-quarto-table-cell-role="th">county_Schuyler</th>
<th data-quarto-table-cell-role="th">county_Scott</th>
<th data-quarto-table-cell-role="th">county_Shelby</th>
<th data-quarto-table-cell-role="th">county_St. Clair</th>
<th data-quarto-table-cell-role="th">county_Stark</th>
<th data-quarto-table-cell-role="th">county_Stephenson</th>
<th data-quarto-table-cell-role="th">county_Tazewell</th>
<th data-quarto-table-cell-role="th">county_Union</th>
<th data-quarto-table-cell-role="th">county_Vermilion</th>
<th data-quarto-table-cell-role="th">county_Wabash</th>
<th data-quarto-table-cell-role="th">county_Warren</th>
<th data-quarto-table-cell-role="th">county_Washington</th>
<th data-quarto-table-cell-role="th">county_Wayne</th>
<th data-quarto-table-cell-role="th">county_White</th>
<th data-quarto-table-cell-role="th">county_Whiteside</th>
<th data-quarto-table-cell-role="th">county_Will</th>
<th data-quarto-table-cell-role="th">county_Williamson</th>
<th data-quarto-table-cell-role="th">county_Winnebago</th>
<th data-quarto-table-cell-role="th">county_Woodford</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2001</td>
<td>African American</td>
<td>226</td>
<td>147</td>
<td>25</td>
<td>18</td>
<td>18</td>
<td>48</td>
<td>6</td>
<td>12</td>
<td>1</td>
<td>2059</td>
<td>16</td>
<td>6</td>
<td>1</td>
<td>22</td>
<td>130</td>
<td>86781</td>
<td>26301</td>
<td>6</td>
<td>1</td>
<td>342</td>
<td>11</td>
<td>18</td>
<td>2265</td>
<td>1</td>
<td>1</td>
<td>108</td>
<td>6</td>
<td>1</td>
<td>6</td>
<td>25</td>
<td>1</td>
<td>1</td>
<td>52</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>92</td>
<td>250</td>
<td>580</td>
<td>1</td>
<td>246</td>
<td>6</td>
<td>16</td>
<td>16</td>
<td>2804</td>
<td>1669</td>
<td>122</td>
<td>314</td>
<td>5712</td>
<td>184</td>
<td>6</td>
<td>86</td>
<td>180</td>
<td>71</td>
<td>1104</td>
<td>34</td>
<td>1567</td>
<td>146</td>
<td>6</td>
<td>1</td>
<td>91</td>
<td>105</td>
<td>213</td>
<td>905</td>
<td>1</td>
<td>6</td>
<td>20</td>
<td>38</td>
<td>287</td>
<td>6</td>
<td>1</td>
<td>57</td>
<td>3403</td>
<td>60</td>
<td>1</td>
<td>13</td>
<td>1</td>
<td>153</td>
<td>1</td>
<td>81</td>
<td>6</td>
<td>1215</td>
<td>104</td>
<td>2200</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>2462</td>
<td>1</td>
<td>355</td>
<td>168</td>
<td>17</td>
<td>876</td>
<td>6</td>
<td>46</td>
<td>25</td>
<td>6</td>
<td>16</td>
<td>128</td>
<td>3000</td>
<td>75</td>
<td>2509</td>
<td>42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2001</td>
<td>Asian</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>49</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>722</td>
<td>460</td>
<td>1</td>
<td>1</td>
<td>15</td>
<td>1</td>
<td>1</td>
<td>139</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>97</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>135</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>12</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>6</td>
<td>16</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>12</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>17</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>14</td>
<td>1</td>
<td>28</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2001</td>
<td>Hispanic</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2001</td>
<td>Native American</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>146</td>
<td>30</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>17</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>16</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2001</td>
<td>White</td>
<td>939</td>
<td>52</td>
<td>209</td>
<td>674</td>
<td>107</td>
<td>509</td>
<td>139</td>
<td>298</td>
<td>88</td>
<td>2334</td>
<td>335</td>
<td>264</td>
<td>117</td>
<td>229</td>
<td>1635</td>
<td>37099</td>
<td>36690</td>
<td>470</td>
<td>164</td>
<td>1740</td>
<td>539</td>
<td>181</td>
<td>13019</td>
<td>301</td>
<td>41</td>
<td>986</td>
<td>382</td>
<td>217</td>
<td>724</td>
<td>926</td>
<td>19</td>
<td>57</td>
<td>1014</td>
<td>78</td>
<td>206</td>
<td>75</td>
<td>134</td>
<td>569</td>
<td>585</td>
<td>857</td>
<td>87</td>
<td>607</td>
<td>575</td>
<td>532</td>
<td>198</td>
<td>9634</td>
<td>1607</td>
<td>1465</td>
<td>1160</td>
<td>15136</td>
<td>2689</td>
<td>412</td>
<td>845</td>
<td>1146</td>
<td>586</td>
<td>1388</td>
<td>523</td>
<td>4359</td>
<td>571</td>
<td>263</td>
<td>274</td>
<td>455</td>
<td>1007</td>
<td>3879</td>
<td>2285</td>
<td>92</td>
<td>410</td>
<td>572</td>
<td>749</td>
<td>1053</td>
<td>149</td>
<td>1</td>
<td>1009</td>
<td>3120</td>
<td>430</td>
<td>211</td>
<td>368</td>
<td>45</td>
<td>248</td>
<td>151</td>
<td>460</td>
<td>323</td>
<td>3117</td>
<td>711</td>
<td>3635</td>
<td>274</td>
<td>22</td>
<td>486</td>
<td>1601</td>
<td>59</td>
<td>644</td>
<td>1804</td>
<td>327</td>
<td>1743</td>
<td>324</td>
<td>444</td>
<td>265</td>
<td>245</td>
<td>668</td>
<td>1304</td>
<td>4144</td>
<td>631</td>
<td>4253</td>
<td>462</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="column-renaming-and-consolidation" class="level2">
<h2 class="anchored" data-anchor-id="column-renaming-and-consolidation">Column Renaming and Consolidation</h2>
<p>To streamline the Illinois arrest dataset and improve clarity, the following transformations were applied:</p>
<ol type="1">
<li><p><strong>Removing Prefixes for Simplicity</strong>:<br>
Columns with the <code>county_</code> prefix were renamed by removing the prefix and capitalizing the remaining column names. This makes the column headers cleaner and more intuitive for analysis.</p></li>
<li><p><strong>Standardizing Race Terminology</strong>:<br>
The term <em>“African American”</em> in the <code>race</code> column was replaced with <em>“Black”</em> to ensure consistency with the exoneration dataset.</p></li>
<li><p><strong>Consolidating Cook County Data</strong>:<br>
The columns <code>Cook Chicago</code> and <code>Cook County Suburbs</code> were combined into a single <code>Cook</code> column. This consolidation simplifies the data and groups all arrest information related to Cook County into a unified metric.</p></li>
</ol>
<div id="cell-47" class="cell" data-execution_count="187">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns by removing 'county_' prefix:</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>arrest_data.columns <span class="op">=</span> [col.replace(<span class="st">'county_'</span>, <span class="st">''</span>).capitalize() <span class="cf">if</span> col.startswith(<span class="st">'county_'</span>) <span class="cf">else</span> col <span class="cf">for</span> col <span class="kw">in</span> arrest_data.columns]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename "African American" to "Black" in the column names:</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>arrest_data[<span class="st">'race'</span>] <span class="op">=</span> arrest_data[<span class="st">'race'</span>].replace(<span class="st">'African American'</span>, <span class="st">'Black'</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine "Cook Chicago" and "Cook County Suburbs" into a single "Cook" column:</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>arrest_data[<span class="st">'Cook'</span>] <span class="op">=</span> arrest_data[<span class="st">'Cook chicago'</span>] <span class="op">+</span> arrest_data[<span class="st">'Cook county suburbs'</span>]</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the old columns:</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>arrest_data.drop(columns<span class="op">=</span>[<span class="st">'Cook chicago'</span>, <span class="st">'Cook county suburbs'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>arrest_data.head(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="187">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">Adams</th>
<th data-quarto-table-cell-role="th">Alexander</th>
<th data-quarto-table-cell-role="th">Bond</th>
<th data-quarto-table-cell-role="th">Boone</th>
<th data-quarto-table-cell-role="th">Brown</th>
<th data-quarto-table-cell-role="th">Bureau</th>
<th data-quarto-table-cell-role="th">Calhoun</th>
<th data-quarto-table-cell-role="th">Carroll</th>
<th data-quarto-table-cell-role="th">Cass</th>
<th data-quarto-table-cell-role="th">Champaign</th>
<th data-quarto-table-cell-role="th">Christian</th>
<th data-quarto-table-cell-role="th">Clark</th>
<th data-quarto-table-cell-role="th">Clay</th>
<th data-quarto-table-cell-role="th">Clinton</th>
<th data-quarto-table-cell-role="th">Coles</th>
<th data-quarto-table-cell-role="th">Crawford</th>
<th data-quarto-table-cell-role="th">Cumberland</th>
<th data-quarto-table-cell-role="th">Dekalb</th>
<th data-quarto-table-cell-role="th">Dewitt</th>
<th data-quarto-table-cell-role="th">Douglas</th>
<th data-quarto-table-cell-role="th">Dupage</th>
<th data-quarto-table-cell-role="th">Edgar</th>
<th data-quarto-table-cell-role="th">Edwards</th>
<th data-quarto-table-cell-role="th">Effingham</th>
<th data-quarto-table-cell-role="th">Fayette</th>
<th data-quarto-table-cell-role="th">Ford</th>
<th data-quarto-table-cell-role="th">Franklin</th>
<th data-quarto-table-cell-role="th">Fulton</th>
<th data-quarto-table-cell-role="th">Gallatin</th>
<th data-quarto-table-cell-role="th">Greene</th>
<th data-quarto-table-cell-role="th">Grundy</th>
<th data-quarto-table-cell-role="th">Hamilton</th>
<th data-quarto-table-cell-role="th">Hancock</th>
<th data-quarto-table-cell-role="th">Hardin</th>
<th data-quarto-table-cell-role="th">Henderson</th>
<th data-quarto-table-cell-role="th">Henry</th>
<th data-quarto-table-cell-role="th">Iroquois</th>
<th data-quarto-table-cell-role="th">Jackson</th>
<th data-quarto-table-cell-role="th">Jasper</th>
<th data-quarto-table-cell-role="th">Jefferson</th>
<th data-quarto-table-cell-role="th">Jersey</th>
<th data-quarto-table-cell-role="th">Jo daviess</th>
<th data-quarto-table-cell-role="th">Johnson</th>
<th data-quarto-table-cell-role="th">Kane</th>
<th data-quarto-table-cell-role="th">Kankakee</th>
<th data-quarto-table-cell-role="th">Kendall</th>
<th data-quarto-table-cell-role="th">Knox</th>
<th data-quarto-table-cell-role="th">Lake</th>
<th data-quarto-table-cell-role="th">Lasalle</th>
<th data-quarto-table-cell-role="th">Lawrence</th>
<th data-quarto-table-cell-role="th">Lee</th>
<th data-quarto-table-cell-role="th">Livingston</th>
<th data-quarto-table-cell-role="th">Logan</th>
<th data-quarto-table-cell-role="th">Macon</th>
<th data-quarto-table-cell-role="th">Macoupin</th>
<th data-quarto-table-cell-role="th">Madison</th>
<th data-quarto-table-cell-role="th">Marion</th>
<th data-quarto-table-cell-role="th">Marshall</th>
<th data-quarto-table-cell-role="th">Mason</th>
<th data-quarto-table-cell-role="th">Massac</th>
<th data-quarto-table-cell-role="th">Mcdonough</th>
<th data-quarto-table-cell-role="th">Mchenry</th>
<th data-quarto-table-cell-role="th">Mclean</th>
<th data-quarto-table-cell-role="th">Menard</th>
<th data-quarto-table-cell-role="th">Mercer</th>
<th data-quarto-table-cell-role="th">Monroe</th>
<th data-quarto-table-cell-role="th">Montgomery</th>
<th data-quarto-table-cell-role="th">Morgan</th>
<th data-quarto-table-cell-role="th">Moultrie</th>
<th data-quarto-table-cell-role="th">Non county agencies</th>
<th data-quarto-table-cell-role="th">Ogle</th>
<th data-quarto-table-cell-role="th">Peoria</th>
<th data-quarto-table-cell-role="th">Perry</th>
<th data-quarto-table-cell-role="th">Piatt</th>
<th data-quarto-table-cell-role="th">Pike</th>
<th data-quarto-table-cell-role="th">Pope</th>
<th data-quarto-table-cell-role="th">Pulaski</th>
<th data-quarto-table-cell-role="th">Putnam</th>
<th data-quarto-table-cell-role="th">Randolph</th>
<th data-quarto-table-cell-role="th">Richland</th>
<th data-quarto-table-cell-role="th">Rock island</th>
<th data-quarto-table-cell-role="th">Saline</th>
<th data-quarto-table-cell-role="th">Sangamon</th>
<th data-quarto-table-cell-role="th">Schuyler</th>
<th data-quarto-table-cell-role="th">Scott</th>
<th data-quarto-table-cell-role="th">Shelby</th>
<th data-quarto-table-cell-role="th">St. clair</th>
<th data-quarto-table-cell-role="th">Stark</th>
<th data-quarto-table-cell-role="th">Stephenson</th>
<th data-quarto-table-cell-role="th">Tazewell</th>
<th data-quarto-table-cell-role="th">Union</th>
<th data-quarto-table-cell-role="th">Vermilion</th>
<th data-quarto-table-cell-role="th">Wabash</th>
<th data-quarto-table-cell-role="th">Warren</th>
<th data-quarto-table-cell-role="th">Washington</th>
<th data-quarto-table-cell-role="th">Wayne</th>
<th data-quarto-table-cell-role="th">White</th>
<th data-quarto-table-cell-role="th">Whiteside</th>
<th data-quarto-table-cell-role="th">Will</th>
<th data-quarto-table-cell-role="th">Williamson</th>
<th data-quarto-table-cell-role="th">Winnebago</th>
<th data-quarto-table-cell-role="th">Woodford</th>
<th data-quarto-table-cell-role="th">Cook</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2001</td>
<td>Black</td>
<td>226</td>
<td>147</td>
<td>25</td>
<td>18</td>
<td>18</td>
<td>48</td>
<td>6</td>
<td>12</td>
<td>1</td>
<td>2059</td>
<td>16</td>
<td>6</td>
<td>1</td>
<td>22</td>
<td>130</td>
<td>6</td>
<td>1</td>
<td>342</td>
<td>11</td>
<td>18</td>
<td>2265</td>
<td>1</td>
<td>1</td>
<td>108</td>
<td>6</td>
<td>1</td>
<td>6</td>
<td>25</td>
<td>1</td>
<td>1</td>
<td>52</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>92</td>
<td>250</td>
<td>580</td>
<td>1</td>
<td>246</td>
<td>6</td>
<td>16</td>
<td>16</td>
<td>2804</td>
<td>1669</td>
<td>122</td>
<td>314</td>
<td>5712</td>
<td>184</td>
<td>6</td>
<td>86</td>
<td>180</td>
<td>71</td>
<td>1104</td>
<td>34</td>
<td>1567</td>
<td>146</td>
<td>6</td>
<td>1</td>
<td>91</td>
<td>105</td>
<td>213</td>
<td>905</td>
<td>1</td>
<td>6</td>
<td>20</td>
<td>38</td>
<td>287</td>
<td>6</td>
<td>1</td>
<td>57</td>
<td>3403</td>
<td>60</td>
<td>1</td>
<td>13</td>
<td>1</td>
<td>153</td>
<td>1</td>
<td>81</td>
<td>6</td>
<td>1215</td>
<td>104</td>
<td>2200</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>2462</td>
<td>1</td>
<td>355</td>
<td>168</td>
<td>17</td>
<td>876</td>
<td>6</td>
<td>46</td>
<td>25</td>
<td>6</td>
<td>16</td>
<td>128</td>
<td>3000</td>
<td>75</td>
<td>2509</td>
<td>42</td>
<td>113082</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="handling-placeholder-values" class="level2">
<h2 class="anchored" data-anchor-id="handling-placeholder-values">Handling Placeholder Values</h2>
<p>During preprocessing, it was observed that the dataset contains <code>1</code>s in certain fields. To address this all <code>1</code>s in the dataset were replaced with <code>0</code>s to ensure the integrity of the analysis. This decision ensures that the data is not skewed by suspicious or placeholder values, which could misrepresent trends or introduce bias into the results.</p>
<blockquote class="blockquote">
<p><strong>Note</strong>: The reasoning behind the presence of these placeholder values is discussed further in the <em>Data Collection</em> section.</p>
</blockquote>
<div id="cell-49" class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace 1s with 0s: </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>arrest_data.replace(<span class="dv">1</span>, <span class="dv">0</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the updated dataset to confirm changes:</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>arrest_data.head()</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>arrest_data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="188">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">Adams</th>
<th data-quarto-table-cell-role="th">Alexander</th>
<th data-quarto-table-cell-role="th">Bond</th>
<th data-quarto-table-cell-role="th">Boone</th>
<th data-quarto-table-cell-role="th">Brown</th>
<th data-quarto-table-cell-role="th">Bureau</th>
<th data-quarto-table-cell-role="th">Calhoun</th>
<th data-quarto-table-cell-role="th">Carroll</th>
<th data-quarto-table-cell-role="th">Cass</th>
<th data-quarto-table-cell-role="th">Champaign</th>
<th data-quarto-table-cell-role="th">Christian</th>
<th data-quarto-table-cell-role="th">Clark</th>
<th data-quarto-table-cell-role="th">Clay</th>
<th data-quarto-table-cell-role="th">Clinton</th>
<th data-quarto-table-cell-role="th">Coles</th>
<th data-quarto-table-cell-role="th">Crawford</th>
<th data-quarto-table-cell-role="th">Cumberland</th>
<th data-quarto-table-cell-role="th">Dekalb</th>
<th data-quarto-table-cell-role="th">Dewitt</th>
<th data-quarto-table-cell-role="th">Douglas</th>
<th data-quarto-table-cell-role="th">Dupage</th>
<th data-quarto-table-cell-role="th">Edgar</th>
<th data-quarto-table-cell-role="th">Edwards</th>
<th data-quarto-table-cell-role="th">Effingham</th>
<th data-quarto-table-cell-role="th">Fayette</th>
<th data-quarto-table-cell-role="th">Ford</th>
<th data-quarto-table-cell-role="th">Franklin</th>
<th data-quarto-table-cell-role="th">Fulton</th>
<th data-quarto-table-cell-role="th">Gallatin</th>
<th data-quarto-table-cell-role="th">Greene</th>
<th data-quarto-table-cell-role="th">Grundy</th>
<th data-quarto-table-cell-role="th">Hamilton</th>
<th data-quarto-table-cell-role="th">Hancock</th>
<th data-quarto-table-cell-role="th">Hardin</th>
<th data-quarto-table-cell-role="th">Henderson</th>
<th data-quarto-table-cell-role="th">Henry</th>
<th data-quarto-table-cell-role="th">Iroquois</th>
<th data-quarto-table-cell-role="th">Jackson</th>
<th data-quarto-table-cell-role="th">Jasper</th>
<th data-quarto-table-cell-role="th">Jefferson</th>
<th data-quarto-table-cell-role="th">Jersey</th>
<th data-quarto-table-cell-role="th">Jo daviess</th>
<th data-quarto-table-cell-role="th">Johnson</th>
<th data-quarto-table-cell-role="th">Kane</th>
<th data-quarto-table-cell-role="th">Kankakee</th>
<th data-quarto-table-cell-role="th">Kendall</th>
<th data-quarto-table-cell-role="th">Knox</th>
<th data-quarto-table-cell-role="th">Lake</th>
<th data-quarto-table-cell-role="th">Lasalle</th>
<th data-quarto-table-cell-role="th">Lawrence</th>
<th data-quarto-table-cell-role="th">Lee</th>
<th data-quarto-table-cell-role="th">Livingston</th>
<th data-quarto-table-cell-role="th">Logan</th>
<th data-quarto-table-cell-role="th">Macon</th>
<th data-quarto-table-cell-role="th">Macoupin</th>
<th data-quarto-table-cell-role="th">Madison</th>
<th data-quarto-table-cell-role="th">Marion</th>
<th data-quarto-table-cell-role="th">Marshall</th>
<th data-quarto-table-cell-role="th">Mason</th>
<th data-quarto-table-cell-role="th">Massac</th>
<th data-quarto-table-cell-role="th">Mcdonough</th>
<th data-quarto-table-cell-role="th">Mchenry</th>
<th data-quarto-table-cell-role="th">Mclean</th>
<th data-quarto-table-cell-role="th">Menard</th>
<th data-quarto-table-cell-role="th">Mercer</th>
<th data-quarto-table-cell-role="th">Monroe</th>
<th data-quarto-table-cell-role="th">Montgomery</th>
<th data-quarto-table-cell-role="th">Morgan</th>
<th data-quarto-table-cell-role="th">Moultrie</th>
<th data-quarto-table-cell-role="th">Non county agencies</th>
<th data-quarto-table-cell-role="th">Ogle</th>
<th data-quarto-table-cell-role="th">Peoria</th>
<th data-quarto-table-cell-role="th">Perry</th>
<th data-quarto-table-cell-role="th">Piatt</th>
<th data-quarto-table-cell-role="th">Pike</th>
<th data-quarto-table-cell-role="th">Pope</th>
<th data-quarto-table-cell-role="th">Pulaski</th>
<th data-quarto-table-cell-role="th">Putnam</th>
<th data-quarto-table-cell-role="th">Randolph</th>
<th data-quarto-table-cell-role="th">Richland</th>
<th data-quarto-table-cell-role="th">Rock island</th>
<th data-quarto-table-cell-role="th">Saline</th>
<th data-quarto-table-cell-role="th">Sangamon</th>
<th data-quarto-table-cell-role="th">Schuyler</th>
<th data-quarto-table-cell-role="th">Scott</th>
<th data-quarto-table-cell-role="th">Shelby</th>
<th data-quarto-table-cell-role="th">St. clair</th>
<th data-quarto-table-cell-role="th">Stark</th>
<th data-quarto-table-cell-role="th">Stephenson</th>
<th data-quarto-table-cell-role="th">Tazewell</th>
<th data-quarto-table-cell-role="th">Union</th>
<th data-quarto-table-cell-role="th">Vermilion</th>
<th data-quarto-table-cell-role="th">Wabash</th>
<th data-quarto-table-cell-role="th">Warren</th>
<th data-quarto-table-cell-role="th">Washington</th>
<th data-quarto-table-cell-role="th">Wayne</th>
<th data-quarto-table-cell-role="th">White</th>
<th data-quarto-table-cell-role="th">Whiteside</th>
<th data-quarto-table-cell-role="th">Will</th>
<th data-quarto-table-cell-role="th">Williamson</th>
<th data-quarto-table-cell-role="th">Winnebago</th>
<th data-quarto-table-cell-role="th">Woodford</th>
<th data-quarto-table-cell-role="th">Cook</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2001</td>
<td>Black</td>
<td>226</td>
<td>147</td>
<td>25</td>
<td>18</td>
<td>18</td>
<td>48</td>
<td>6</td>
<td>12</td>
<td>0</td>
<td>2059</td>
<td>16</td>
<td>6</td>
<td>0</td>
<td>22</td>
<td>130</td>
<td>6</td>
<td>0</td>
<td>342</td>
<td>11</td>
<td>18</td>
<td>2265</td>
<td>0</td>
<td>0</td>
<td>108</td>
<td>6</td>
<td>0</td>
<td>6</td>
<td>25</td>
<td>0</td>
<td>0</td>
<td>52</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>92</td>
<td>250</td>
<td>580</td>
<td>0</td>
<td>246</td>
<td>6</td>
<td>16</td>
<td>16</td>
<td>2804</td>
<td>1669</td>
<td>122</td>
<td>314</td>
<td>5712</td>
<td>184</td>
<td>6</td>
<td>86</td>
<td>180</td>
<td>71</td>
<td>1104</td>
<td>34</td>
<td>1567</td>
<td>146</td>
<td>6</td>
<td>0</td>
<td>91</td>
<td>105</td>
<td>213</td>
<td>905</td>
<td>0</td>
<td>6</td>
<td>20</td>
<td>38</td>
<td>287</td>
<td>6</td>
<td>0</td>
<td>57</td>
<td>3403</td>
<td>60</td>
<td>0</td>
<td>13</td>
<td>0</td>
<td>153</td>
<td>0</td>
<td>81</td>
<td>6</td>
<td>1215</td>
<td>104</td>
<td>2200</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>2462</td>
<td>0</td>
<td>355</td>
<td>168</td>
<td>17</td>
<td>876</td>
<td>6</td>
<td>46</td>
<td>25</td>
<td>6</td>
<td>16</td>
<td>128</td>
<td>3000</td>
<td>75</td>
<td>2509</td>
<td>42</td>
<td>113082</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2001</td>
<td>Asian</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>49</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>15</td>
<td>0</td>
<td>0</td>
<td>139</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>97</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>135</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>6</td>
<td>16</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>17</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>14</td>
<td>0</td>
<td>28</td>
<td>0</td>
<td>1182</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2001</td>
<td>Hispanic</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2001</td>
<td>Native American</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>17</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>16</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>176</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2001</td>
<td>White</td>
<td>939</td>
<td>52</td>
<td>209</td>
<td>674</td>
<td>107</td>
<td>509</td>
<td>139</td>
<td>298</td>
<td>88</td>
<td>2334</td>
<td>335</td>
<td>264</td>
<td>117</td>
<td>229</td>
<td>1635</td>
<td>470</td>
<td>164</td>
<td>1740</td>
<td>539</td>
<td>181</td>
<td>13019</td>
<td>301</td>
<td>41</td>
<td>986</td>
<td>382</td>
<td>217</td>
<td>724</td>
<td>926</td>
<td>19</td>
<td>57</td>
<td>1014</td>
<td>78</td>
<td>206</td>
<td>75</td>
<td>134</td>
<td>569</td>
<td>585</td>
<td>857</td>
<td>87</td>
<td>607</td>
<td>575</td>
<td>532</td>
<td>198</td>
<td>9634</td>
<td>1607</td>
<td>1465</td>
<td>1160</td>
<td>15136</td>
<td>2689</td>
<td>412</td>
<td>845</td>
<td>1146</td>
<td>586</td>
<td>1388</td>
<td>523</td>
<td>4359</td>
<td>571</td>
<td>263</td>
<td>274</td>
<td>455</td>
<td>1007</td>
<td>3879</td>
<td>2285</td>
<td>92</td>
<td>410</td>
<td>572</td>
<td>749</td>
<td>1053</td>
<td>149</td>
<td>0</td>
<td>1009</td>
<td>3120</td>
<td>430</td>
<td>211</td>
<td>368</td>
<td>45</td>
<td>248</td>
<td>151</td>
<td>460</td>
<td>323</td>
<td>3117</td>
<td>711</td>
<td>3635</td>
<td>274</td>
<td>22</td>
<td>486</td>
<td>1601</td>
<td>59</td>
<td>644</td>
<td>1804</td>
<td>327</td>
<td>1743</td>
<td>324</td>
<td>444</td>
<td>265</td>
<td>245</td>
<td>668</td>
<td>1304</td>
<td>4144</td>
<td>631</td>
<td>4253</td>
<td>462</td>
<td>73789</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="exporting-cleaned-and-aggregated-datasets" class="level2">
<h2 class="anchored" data-anchor-id="exporting-cleaned-and-aggregated-datasets">Exporting Cleaned and Aggregated Datasets</h2>
<section id="exporting-the-cleaned-dataset-1" class="level3">
<h3 class="anchored" data-anchor-id="exporting-the-cleaned-dataset-1">1. Exporting the Cleaned Dataset</h3>
<p>After cleaning the Illinois arrest dataset, the cleaned version was saved as a CSV file. This dataset retains the original structure, including arrest counts broken down by race, county, and year. Maintaining the year-specific information allows for detailed time-series analysis and year-over-year comparisons.</p>
<div id="cell-51" class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>arrest_data.to_csv(<span class="st">'../../data/processed-data/arrest_data_by_year.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data saved to 'arrest_data_by_year.csv'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data saved to 'arrest_data_by_year.csv'</code></pre>
</div>
</div>
</section>
<section id="aggregating-arrest-data-by-race-and-county" class="level3">
<h3 class="anchored" data-anchor-id="aggregating-arrest-data-by-race-and-county">2. Aggregating Arrest Data by Race and County</h3>
<p>The arrest data was aggregated to simplify the analysis by summing totals across all years for each race and county. This step removes the <code>Year</code> column and groups arrests solely by race and county.</p>
<p><strong>Steps</strong>:<br>
- Grouped the dataset by the <code>race</code> column.<br>
- Summed arrest counts for each county across all years.<br>
- Reset the index for a clean, tabular structure.</p>
<div id="cell-53" class="cell" data-execution_count="190">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate totals across years for each race:</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>aggregated_data <span class="op">=</span> arrest_data.groupby(<span class="st">'race'</span>).<span class="bu">sum</span>(numeric_only<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>aggregated_data <span class="op">=</span> aggregated_data.drop(columns<span class="op">=</span>[<span class="st">'Year'</span>])</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>aggregated_data <span class="op">=</span> aggregated_data.reset_index()</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview the aggregated data:</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>aggregated_data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="190">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">Adams</th>
<th data-quarto-table-cell-role="th">Alexander</th>
<th data-quarto-table-cell-role="th">Bond</th>
<th data-quarto-table-cell-role="th">Boone</th>
<th data-quarto-table-cell-role="th">Brown</th>
<th data-quarto-table-cell-role="th">Bureau</th>
<th data-quarto-table-cell-role="th">Calhoun</th>
<th data-quarto-table-cell-role="th">Carroll</th>
<th data-quarto-table-cell-role="th">Cass</th>
<th data-quarto-table-cell-role="th">Champaign</th>
<th data-quarto-table-cell-role="th">Christian</th>
<th data-quarto-table-cell-role="th">Clark</th>
<th data-quarto-table-cell-role="th">Clay</th>
<th data-quarto-table-cell-role="th">Clinton</th>
<th data-quarto-table-cell-role="th">Coles</th>
<th data-quarto-table-cell-role="th">Crawford</th>
<th data-quarto-table-cell-role="th">Cumberland</th>
<th data-quarto-table-cell-role="th">Dekalb</th>
<th data-quarto-table-cell-role="th">Dewitt</th>
<th data-quarto-table-cell-role="th">Douglas</th>
<th data-quarto-table-cell-role="th">Dupage</th>
<th data-quarto-table-cell-role="th">Edgar</th>
<th data-quarto-table-cell-role="th">Edwards</th>
<th data-quarto-table-cell-role="th">Effingham</th>
<th data-quarto-table-cell-role="th">Fayette</th>
<th data-quarto-table-cell-role="th">Ford</th>
<th data-quarto-table-cell-role="th">Franklin</th>
<th data-quarto-table-cell-role="th">Fulton</th>
<th data-quarto-table-cell-role="th">Gallatin</th>
<th data-quarto-table-cell-role="th">Greene</th>
<th data-quarto-table-cell-role="th">Grundy</th>
<th data-quarto-table-cell-role="th">Hamilton</th>
<th data-quarto-table-cell-role="th">Hancock</th>
<th data-quarto-table-cell-role="th">Hardin</th>
<th data-quarto-table-cell-role="th">Henderson</th>
<th data-quarto-table-cell-role="th">Henry</th>
<th data-quarto-table-cell-role="th">Iroquois</th>
<th data-quarto-table-cell-role="th">Jackson</th>
<th data-quarto-table-cell-role="th">Jasper</th>
<th data-quarto-table-cell-role="th">Jefferson</th>
<th data-quarto-table-cell-role="th">Jersey</th>
<th data-quarto-table-cell-role="th">Jo daviess</th>
<th data-quarto-table-cell-role="th">Johnson</th>
<th data-quarto-table-cell-role="th">Kane</th>
<th data-quarto-table-cell-role="th">Kankakee</th>
<th data-quarto-table-cell-role="th">Kendall</th>
<th data-quarto-table-cell-role="th">Knox</th>
<th data-quarto-table-cell-role="th">Lake</th>
<th data-quarto-table-cell-role="th">Lasalle</th>
<th data-quarto-table-cell-role="th">Lawrence</th>
<th data-quarto-table-cell-role="th">Lee</th>
<th data-quarto-table-cell-role="th">Livingston</th>
<th data-quarto-table-cell-role="th">Logan</th>
<th data-quarto-table-cell-role="th">Macon</th>
<th data-quarto-table-cell-role="th">Macoupin</th>
<th data-quarto-table-cell-role="th">Madison</th>
<th data-quarto-table-cell-role="th">Marion</th>
<th data-quarto-table-cell-role="th">Marshall</th>
<th data-quarto-table-cell-role="th">Mason</th>
<th data-quarto-table-cell-role="th">Massac</th>
<th data-quarto-table-cell-role="th">Mcdonough</th>
<th data-quarto-table-cell-role="th">Mchenry</th>
<th data-quarto-table-cell-role="th">Mclean</th>
<th data-quarto-table-cell-role="th">Menard</th>
<th data-quarto-table-cell-role="th">Mercer</th>
<th data-quarto-table-cell-role="th">Monroe</th>
<th data-quarto-table-cell-role="th">Montgomery</th>
<th data-quarto-table-cell-role="th">Morgan</th>
<th data-quarto-table-cell-role="th">Moultrie</th>
<th data-quarto-table-cell-role="th">Non county agencies</th>
<th data-quarto-table-cell-role="th">Ogle</th>
<th data-quarto-table-cell-role="th">Peoria</th>
<th data-quarto-table-cell-role="th">Perry</th>
<th data-quarto-table-cell-role="th">Piatt</th>
<th data-quarto-table-cell-role="th">Pike</th>
<th data-quarto-table-cell-role="th">Pope</th>
<th data-quarto-table-cell-role="th">Pulaski</th>
<th data-quarto-table-cell-role="th">Putnam</th>
<th data-quarto-table-cell-role="th">Randolph</th>
<th data-quarto-table-cell-role="th">Richland</th>
<th data-quarto-table-cell-role="th">Rock island</th>
<th data-quarto-table-cell-role="th">Saline</th>
<th data-quarto-table-cell-role="th">Sangamon</th>
<th data-quarto-table-cell-role="th">Schuyler</th>
<th data-quarto-table-cell-role="th">Scott</th>
<th data-quarto-table-cell-role="th">Shelby</th>
<th data-quarto-table-cell-role="th">St. clair</th>
<th data-quarto-table-cell-role="th">Stark</th>
<th data-quarto-table-cell-role="th">Stephenson</th>
<th data-quarto-table-cell-role="th">Tazewell</th>
<th data-quarto-table-cell-role="th">Union</th>
<th data-quarto-table-cell-role="th">Vermilion</th>
<th data-quarto-table-cell-role="th">Wabash</th>
<th data-quarto-table-cell-role="th">Warren</th>
<th data-quarto-table-cell-role="th">Washington</th>
<th data-quarto-table-cell-role="th">Wayne</th>
<th data-quarto-table-cell-role="th">White</th>
<th data-quarto-table-cell-role="th">Whiteside</th>
<th data-quarto-table-cell-role="th">Will</th>
<th data-quarto-table-cell-role="th">Williamson</th>
<th data-quarto-table-cell-role="th">Winnebago</th>
<th data-quarto-table-cell-role="th">Woodford</th>
<th data-quarto-table-cell-role="th">Cook</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Asian</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>22</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1186</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>301</td>
<td>0</td>
<td>0</td>
<td>4509</td>
<td>6</td>
<td>0</td>
<td>51</td>
<td>6</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>166</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2239</td>
<td>30</td>
<td>66</td>
<td>0</td>
<td>2562</td>
<td>164</td>
<td>0</td>
<td>0</td>
<td>81</td>
<td>18</td>
<td>76</td>
<td>0</td>
<td>550</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>66</td>
<td>498</td>
<td>564</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>18</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>381</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>250</td>
<td>0</td>
<td>500</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>382</td>
<td>0</td>
<td>12</td>
<td>126</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>42</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>30</td>
<td>1443</td>
<td>36</td>
<td>767</td>
<td>46</td>
<td>26764</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Black</td>
<td>4022</td>
<td>2722</td>
<td>533</td>
<td>2410</td>
<td>92</td>
<td>780</td>
<td>18</td>
<td>292</td>
<td>235</td>
<td>45547</td>
<td>459</td>
<td>187</td>
<td>75</td>
<td>877</td>
<td>4029</td>
<td>280</td>
<td>117</td>
<td>16146</td>
<td>594</td>
<td>499</td>
<td>59262</td>
<td>119</td>
<td>6</td>
<td>3293</td>
<td>588</td>
<td>275</td>
<td>520</td>
<td>627</td>
<td>6</td>
<td>110</td>
<td>2249</td>
<td>0</td>
<td>122</td>
<td>0</td>
<td>207</td>
<td>2131</td>
<td>3283</td>
<td>13120</td>
<td>45</td>
<td>5960</td>
<td>526</td>
<td>943</td>
<td>281</td>
<td>59806</td>
<td>27437</td>
<td>4308</td>
<td>7545</td>
<td>78841</td>
<td>7344</td>
<td>337</td>
<td>1654</td>
<td>4521</td>
<td>2353</td>
<td>27094</td>
<td>818</td>
<td>51485</td>
<td>4542</td>
<td>123</td>
<td>218</td>
<td>1731</td>
<td>4214</td>
<td>6581</td>
<td>27867</td>
<td>189</td>
<td>268</td>
<td>885</td>
<td>1275</td>
<td>7157</td>
<td>165</td>
<td>693</td>
<td>1685</td>
<td>79960</td>
<td>1901</td>
<td>358</td>
<td>519</td>
<td>18</td>
<td>3384</td>
<td>42</td>
<td>1731</td>
<td>213</td>
<td>26048</td>
<td>1795</td>
<td>63703</td>
<td>81</td>
<td>0</td>
<td>110</td>
<td>60744</td>
<td>24</td>
<td>11866</td>
<td>8363</td>
<td>399</td>
<td>17641</td>
<td>153</td>
<td>1024</td>
<td>489</td>
<td>91</td>
<td>464</td>
<td>2893</td>
<td>58968</td>
<td>4809</td>
<td>55837</td>
<td>2841</td>
<td>1772659</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Hispanic</td>
<td>6</td>
<td>0</td>
<td>6</td>
<td>516</td>
<td>0</td>
<td>114</td>
<td>0</td>
<td>34</td>
<td>68</td>
<td>983</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>91</td>
<td>120</td>
<td>18</td>
<td>18</td>
<td>1783</td>
<td>84</td>
<td>147</td>
<td>13828</td>
<td>0</td>
<td>0</td>
<td>51</td>
<td>35</td>
<td>67</td>
<td>22</td>
<td>0</td>
<td>0</td>
<td>30</td>
<td>470</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>11</td>
<td>18</td>
<td>104</td>
<td>186</td>
<td>0</td>
<td>160</td>
<td>24</td>
<td>101</td>
<td>0</td>
<td>14151</td>
<td>634</td>
<td>264</td>
<td>323</td>
<td>10219</td>
<td>762</td>
<td>0</td>
<td>136</td>
<td>417</td>
<td>49</td>
<td>113</td>
<td>0</td>
<td>333</td>
<td>25</td>
<td>12</td>
<td>10</td>
<td>0</td>
<td>138</td>
<td>4126</td>
<td>1439</td>
<td>0</td>
<td>0</td>
<td>16</td>
<td>12</td>
<td>124</td>
<td>0</td>
<td>0</td>
<td>350</td>
<td>0</td>
<td>43</td>
<td>0</td>
<td>18</td>
<td>0</td>
<td>104</td>
<td>0</td>
<td>79</td>
<td>18</td>
<td>1135</td>
<td>0</td>
<td>29</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>449</td>
<td>0</td>
<td>39</td>
<td>192</td>
<td>18</td>
<td>0</td>
<td>0</td>
<td>142</td>
<td>12</td>
<td>0</td>
<td>6</td>
<td>436</td>
<td>3822</td>
<td>217</td>
<td>3522</td>
<td>63</td>
<td>144574</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Native American</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>297</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>30</td>
<td>0</td>
<td>0</td>
<td>703</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>149</td>
<td>0</td>
<td>12</td>
<td>0</td>
<td>220</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>65</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>18</td>
<td>24</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>42</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>29</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>42</td>
<td>0</td>
<td>6</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>108</td>
<td>0</td>
<td>147</td>
<td>0</td>
<td>2351</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>White</td>
<td>16743</td>
<td>1340</td>
<td>3964</td>
<td>16580</td>
<td>1812</td>
<td>9593</td>
<td>1844</td>
<td>5530</td>
<td>2826</td>
<td>41996</td>
<td>10983</td>
<td>6714</td>
<td>4818</td>
<td>8858</td>
<td>23779</td>
<td>8663</td>
<td>4228</td>
<td>35622</td>
<td>7121</td>
<td>5676</td>
<td>215397</td>
<td>7031</td>
<td>1019</td>
<td>23978</td>
<td>9115</td>
<td>4630</td>
<td>22754</td>
<td>14545</td>
<td>838</td>
<td>5147</td>
<td>18813</td>
<td>1218</td>
<td>5203</td>
<td>1766</td>
<td>2653</td>
<td>11472</td>
<td>11041</td>
<td>16698</td>
<td>3124</td>
<td>14526</td>
<td>14337</td>
<td>7841</td>
<td>3325</td>
<td>170618</td>
<td>31714</td>
<td>27222</td>
<td>20553</td>
<td>188224</td>
<td>54179</td>
<td>8499</td>
<td>13856</td>
<td>20172</td>
<td>14366</td>
<td>30283</td>
<td>12071</td>
<td>130786</td>
<td>19686</td>
<td>4240</td>
<td>6970</td>
<td>8491</td>
<td>18618</td>
<td>101548</td>
<td>48554</td>
<td>3974</td>
<td>7257</td>
<td>10734</td>
<td>16631</td>
<td>23129</td>
<td>2920</td>
<td>751</td>
<td>19240</td>
<td>64589</td>
<td>12123</td>
<td>4323</td>
<td>7890</td>
<td>795</td>
<td>4457</td>
<td>1683</td>
<td>12061</td>
<td>6823</td>
<td>53728</td>
<td>12729</td>
<td>82714</td>
<td>2136</td>
<td>585</td>
<td>8671</td>
<td>49390</td>
<td>1442</td>
<td>13615</td>
<td>61546</td>
<td>6165</td>
<td>30772</td>
<td>6491</td>
<td>7459</td>
<td>5220</td>
<td>5146</td>
<td>11318</td>
<td>22690</td>
<td>97863</td>
<td>26871</td>
<td>85292</td>
<td>12676</td>
<td>1174775</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-54" class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>aggregated_data.to_csv(<span class="st">'../../data/processed-data/aggregated_arrests_2001_to_2021.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data saved to 'aggregated_arrests_2001_to_2021.csv'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data saved to 'aggregated_arrests_2001_to_2021.csv'</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="mass-incarceration-racial-geography-data-cleaning" class="level1">
<h1>Mass Incarceration Racial Geography Data Cleaning</h1>
<section id="introduction-and-motivation-2" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-motivation-2">Introduction and Motivation</h2>
<p>This section documents the minimal cleaning performed on the racial geography dataset which provides population and incarceration statistics by race, making it an essential input for balancing counterfactual data for supervised learning.</p>
<p>Unlike other datasets, this required minimal preprocessing due to its clean structure and consistent formatting. The primary cleaning steps involved standardizing column names for uniformity.</p>
<p>By the end of this step, the dataset is ready for use in data balancing and then machine learning.</p>
</section>
<section id="initial-overview-of-the-dataset-2" class="level2">
<h2 class="anchored" data-anchor-id="initial-overview-of-the-dataset-2">Initial Overview of the Dataset</h2>
<p>The dataset is first loaded to inspect its structure and contents.</p>
<div id="cell-57" class="cell" data-execution_count="195">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>representation_df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/raw-data/representation_by_county_raw.csv'</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Initial Dataset: "</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="va">None</span>) </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>representation_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Initial Dataset: </code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="195">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">County</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Total Population</th>
<th data-quarto-table-cell-role="th">Total White Population</th>
<th data-quarto-table-cell-role="th">Total Black Population</th>
<th data-quarto-table-cell-role="th">Total Latino Population</th>
<th data-quarto-table-cell-role="th">Incarcerated Population</th>
<th data-quarto-table-cell-role="th">Incarcerated White Population</th>
<th data-quarto-table-cell-role="th">Incarcerated Black Population</th>
<th data-quarto-table-cell-role="th">Incarcerated Latino Population</th>
<th data-quarto-table-cell-role="th">Non-incarcerated Population</th>
<th data-quarto-table-cell-role="th">Non-incarcerated White Population</th>
<th data-quarto-table-cell-role="th">Non-Incarcerated Black Population</th>
<th data-quarto-table-cell-role="th">Non-Incarcerated Latino Population</th>
<th data-quarto-table-cell-role="th">Ratio of Overrepresentation of Whites Incarcerated Compared to Whites Non-Incarcerated</th>
<th data-quarto-table-cell-role="th">Ratio of Overrepresentation of Blacks Incarcerated Compared to Blacks Non-Incarcerated</th>
<th data-quarto-table-cell-role="th">Ratio of Overrepresentation of Latinos Incarcerated Compared to Latinos Non-Incarcerated</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Adams County</td>
<td>Illinois</td>
<td>67103</td>
<td>62414</td>
<td>2331</td>
<td>776</td>
<td>110</td>
<td>73</td>
<td>36</td>
<td>0</td>
<td>66993</td>
<td>62341</td>
<td>2295</td>
<td>776</td>
<td>0.71</td>
<td>9.54</td>
<td>0.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alexander County</td>
<td>Illinois</td>
<td>8238</td>
<td>4983</td>
<td>2915</td>
<td>155</td>
<td>411</td>
<td>89</td>
<td>242</td>
<td>79</td>
<td>7827</td>
<td>4894</td>
<td>2673</td>
<td>76</td>
<td>0.35</td>
<td>1.72</td>
<td>19.82</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Bond County</td>
<td>Illinois</td>
<td>17768</td>
<td>15797</td>
<td>1080</td>
<td>547</td>
<td>1542</td>
<td>500</td>
<td>657</td>
<td>304</td>
<td>16226</td>
<td>15297</td>
<td>423</td>
<td>243</td>
<td>0.34</td>
<td>16.32</td>
<td>13.14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Boone County</td>
<td>Illinois</td>
<td>54165</td>
<td>40757</td>
<td>1064</td>
<td>10967</td>
<td>71</td>
<td>38</td>
<td>12</td>
<td>21</td>
<td>54094</td>
<td>40719</td>
<td>1052</td>
<td>10946</td>
<td>0.71</td>
<td>8.71</td>
<td>1.46</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Brown County</td>
<td>Illinois</td>
<td>6937</td>
<td>5191</td>
<td>1280</td>
<td>402</td>
<td>2059</td>
<td>419</td>
<td>1267</td>
<td>367</td>
<td>4878</td>
<td>4772</td>
<td>13</td>
<td>35</td>
<td>0.21</td>
<td>227.91</td>
<td>24.76</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="standardizing-column-names" class="level2">
<h2 class="anchored" data-anchor-id="standardizing-column-names">Standardizing Column Names</h2>
<p>To improve readability and simplifyfurther processing, the column names in the dataset were converted to lowercase and spaces were replaced with underscores.</p>
<div id="cell-59" class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>representation_df.columns <span class="op">=</span> representation_df.columns.<span class="bu">str</span>.lower().<span class="bu">str</span>.replace(<span class="st">' '</span>, <span class="st">'_'</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>representation_df.head()</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove county from county name </span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>representation_df[<span class="st">'county'</span>] <span class="op">=</span> representation_df[<span class="st">'county'</span>].<span class="bu">str</span>.replace(<span class="st">' County'</span>, <span class="st">''</span>, regex<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>representation_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="196">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">county</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">total_population</th>
<th data-quarto-table-cell-role="th">total_white_population</th>
<th data-quarto-table-cell-role="th">total_black_population</th>
<th data-quarto-table-cell-role="th">total_latino_population</th>
<th data-quarto-table-cell-role="th">incarcerated_population</th>
<th data-quarto-table-cell-role="th">incarcerated_white_population</th>
<th data-quarto-table-cell-role="th">incarcerated_black_population</th>
<th data-quarto-table-cell-role="th">incarcerated_latino_population</th>
<th data-quarto-table-cell-role="th">non-incarcerated_population</th>
<th data-quarto-table-cell-role="th">non-incarcerated_white_population</th>
<th data-quarto-table-cell-role="th">non-incarcerated_black_population</th>
<th data-quarto-table-cell-role="th">non-incarcerated_latino_population</th>
<th data-quarto-table-cell-role="th">ratio_of_overrepresentation_of_whites_incarcerated_compared_to_whites_non-incarcerated</th>
<th data-quarto-table-cell-role="th">ratio_of_overrepresentation_of_blacks_incarcerated_compared_to_blacks_non-incarcerated</th>
<th data-quarto-table-cell-role="th">ratio_of_overrepresentation_of_latinos_incarcerated_compared_to_latinos_non-incarcerated</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Adams</td>
<td>Illinois</td>
<td>67103</td>
<td>62414</td>
<td>2331</td>
<td>776</td>
<td>110</td>
<td>73</td>
<td>36</td>
<td>0</td>
<td>66993</td>
<td>62341</td>
<td>2295</td>
<td>776</td>
<td>0.71</td>
<td>9.54</td>
<td>0.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alexander</td>
<td>Illinois</td>
<td>8238</td>
<td>4983</td>
<td>2915</td>
<td>155</td>
<td>411</td>
<td>89</td>
<td>242</td>
<td>79</td>
<td>7827</td>
<td>4894</td>
<td>2673</td>
<td>76</td>
<td>0.35</td>
<td>1.72</td>
<td>19.82</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Bond</td>
<td>Illinois</td>
<td>17768</td>
<td>15797</td>
<td>1080</td>
<td>547</td>
<td>1542</td>
<td>500</td>
<td>657</td>
<td>304</td>
<td>16226</td>
<td>15297</td>
<td>423</td>
<td>243</td>
<td>0.34</td>
<td>16.32</td>
<td>13.14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Boone</td>
<td>Illinois</td>
<td>54165</td>
<td>40757</td>
<td>1064</td>
<td>10967</td>
<td>71</td>
<td>38</td>
<td>12</td>
<td>21</td>
<td>54094</td>
<td>40719</td>
<td>1052</td>
<td>10946</td>
<td>0.71</td>
<td>8.71</td>
<td>1.46</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Brown</td>
<td>Illinois</td>
<td>6937</td>
<td>5191</td>
<td>1280</td>
<td>402</td>
<td>2059</td>
<td>419</td>
<td>1267</td>
<td>367</td>
<td>4878</td>
<td>4772</td>
<td>13</td>
<td>35</td>
<td>0.21</td>
<td>227.91</td>
<td>24.76</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="exporting-the-cleaned-dataset-2" class="level2">
<h2 class="anchored" data-anchor-id="exporting-the-cleaned-dataset-2">Exporting the Cleaned Dataset</h2>
<p>The final cleaned dataset is saved as <code>representation_by_county.csv</code>.</p>
<div id="cell-61" class="cell" data-execution_count="197">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>representation_df.to_csv(<span class="st">'../../data/processed-data/representation_by_county.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data saved to 'representation_by_county_raw.csv'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data saved to 'representation_by_county_raw.csv'</code></pre>
</div>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-wttwChicagoRanks" class="csl-entry" role="listitem">
1. Cherone, H. (2023). Chicago ranks no. 1 in exonerations for 5th year in a row, accounting for more than half of national total: report. In <em>WTTW</em>. <a href="&quot;https://news.wttw.com/2023/05/16/chicago-ranks-no-1-exonerations-5th-year-row-accounting-more-half-national-total-report&quot;">"https://news.wttw.com/2023/05/16/chicago-ranks-no-1-exonerations-5th-year-row-accounting-more-half-national-total-report"</a>
</div>
<div id="ref-university_of_california_irvine_newkirk_center_for_science__society_exoneration" class="csl-entry" role="listitem">
2. University of California Irvine Newkirk Center for Science &amp; Society, &amp; Michigan State University College of Law, U. of M. L. S. (2024). Exoneration <span>Detail</span> <span>List</span>. In <em>The National Registry of Exonerations</em>. <a href="https://www.law.umich.edu/special/exoneration/Pages/detaillist.aspx">https://www.law.umich.edu/special/exoneration/Pages/detaillist.aspx</a>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>