<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN-5000: Project - Data Collection</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/gu-logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../report/report.html"> 
<span class="menu-text">Report</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-technical-details" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Technical details</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-technical-details">    
        <li>
    <a class="dropdown-item" href="../../technical-details/data-collection/main.html">
 <span class="dropdown-text">Data-collection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/data-cleaning/main.html">
 <span class="dropdown-text">Data-cleaning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/data-balancing/main.html">
 <span class="dropdown-text">Counterfactual Data Balancing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/eda/main.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/unsupervised-learning/main.html">
 <span class="dropdown-text">Unsupervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/supervised-learning/main.html">
 <span class="dropdown-text">Supervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/progress-log.html">
 <span class="dropdown-text">Progress Log</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/llm-usage-log.html">
 <span class="dropdown-text">LLM usage Log</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../bibliography.html"> 
<span class="menu-text">Bibliography</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../appendix.html"> 
<span class="menu-text">Appendix</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/courtneyrgreen/dsan5000_final_project"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://crg123.georgetown.domains/"> 
<span class="menu-text">Back to Portfolio</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a>
  <ul class="collapse">
  <li><a href="#goals-motivation" id="toc-goals-motivation" class="nav-link" data-scroll-target="#goals-motivation">Goals &amp; Motivation</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">Objectives</a></li>
  </ul></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#foundation-exoneration-and-arrest-datasets" id="toc-foundation-exoneration-and-arrest-datasets" class="nav-link" data-scroll-target="#foundation-exoneration-and-arrest-datasets">Foundation: Exoneration and Arrest Datasets</a>
  <ul class="collapse">
  <li><a href="#illinois-arrest-data" id="toc-illinois-arrest-data" class="nav-link" data-scroll-target="#illinois-arrest-data">Illinois Arrest Data</a></li>
  <li><a href="#exoneration-data" id="toc-exoneration-data" class="nav-link" data-scroll-target="#exoneration-data">Exoneration Data</a></li>
  </ul></li>
  <li><a href="#adding-context-web-scraping-and-demographic-data" id="toc-adding-context-web-scraping-and-demographic-data" class="nav-link" data-scroll-target="#adding-context-web-scraping-and-demographic-data">Adding Context: Web Scraping and Demographic Data</a></li>
  <li><a href="#geographical-insights-api-based-geocoding" id="toc-geographical-insights-api-based-geocoding" class="nav-link" data-scroll-target="#geographical-insights-api-based-geocoding">Geographical Insights: API-Based Geocoding</a></li>
  <li><a href="#mapping-illinois-county" id="toc-mapping-illinois-county" class="nav-link" data-scroll-target="#mapping-illinois-county">Mapping: Illinois County</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a>
  <ul class="collapse">
  <li><a href="#challenges" id="toc-challenges" class="nav-link" data-scroll-target="#challenges">Challenges</a>
  <ul class="collapse">
  <li><a href="#arrest-data-precision" id="toc-arrest-data-precision" class="nav-link" data-scroll-target="#arrest-data-precision">Arrest Data Precision</a></li>
  </ul></li>
  <li><a href="#benchmarks" id="toc-benchmarks" class="nav-link" data-scroll-target="#benchmarks">Benchmarks</a></li>
  <li><a href="#conclusion-and-future-steps" id="toc-conclusion-and-future-steps" class="nav-link" data-scroll-target="#conclusion-and-future-steps">Conclusion and Future Steps</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Collection</h1>
</div>



<div class="quarto-title-meta column-page-left">

    
  
    
  </div>
  


</header>


<section id="overview" class="level1">
<h1>Overview</h1>
<p>For the data collection process, I gathered multiple datasets, including arrest records from the ICJIA Arrest Explorer, exoneration data from the National Registry of Exonerations, incarceration demographics from the Prison Policy Initiative, and geospatial information. This diverse collection enabled an in-depth examination of systemic racial inequities that drive the over-policing of marginalized communities while also facilitating a critical analysis of nuanced racial patterns in exoneration data, exploring their connection to broader societal structures. Together, these datasets provide a framework for understanding the interconnected dynamics of racial injustice in the criminal justice system.</p>
<section id="goals-motivation" class="level2">
<h2 class="anchored" data-anchor-id="goals-motivation">Goals &amp; Motivation</h2>
<p>My goal in the data collection process is to gather the datasets needed to examine systemic racial disparities in policing and exonerations. I’m focused on sourcing reliable arrest records, exoneration data, incarceration demographics, and geospatial information. Ultimately, I aim to compile data that can stand alone or work together to analyze over-policing trends, uncover racial patterns in exonerations, and explore the geographic dynamics connected to these issues. I’m particularly driven by the need to ground these systemic inequities in hard numbers and statistical analysis. Too often, people refuse to acknowledge the reality of racism without concrete evidence. By putting real data behind these patterns, I hope to demonstrate the scope and impact of these injustices in a way that cannot be ignored.</p>
</section>
<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<ul>
<li>Identify and collect datasets needed to analyze racial disparities in over-policing and wrongful convictions in Illinois, including arrest records, exoneration data, incarceration demographics, and geospatial information.<br>
</li>
<li>Ensure datasets are accurate, up-to-date, and aligned with the project’s goals by prioritizing reliable sources like official registries and well-documented repositories.<br>
</li>
<li>Structure the data to support analysis of racial patterns in policing and exonerations, allowing for both independent and interconnected evaluations.<br>
</li>
<li>Document all steps in the data collection process, including sourcing methods and preprocessing workflows, to ensure transparency and reproducibility.<br>
</li>
<li>Collect and preprocess geocoded data and Illinois county shapefiles to enable geographic exploratory data analysis and visualizations.</li>
</ul>
</section>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<p>To compile a dataset capable of critically examining systemic racial inequities in policing and wrongful convictions, I employed a multi-stepped methodology that integrated direct downloads, web scraping, and API-based geocoding. This approach facilitated the collection of diverse data sources while providing the spatial and demographic context necessary for comprehensive analysis.</p>
<section id="foundation-exoneration-and-arrest-datasets" class="level2">
<h2 class="anchored" data-anchor-id="foundation-exoneration-and-arrest-datasets">Foundation: Exoneration and Arrest Datasets</h2>
<p>The exoneration and arrest datasets formed the backbone of the project, each bringing a unique perspective to the analysis of racial disparities in the criminal justice system.</p>
<section id="illinois-arrest-data" class="level3">
<h3 class="anchored" data-anchor-id="illinois-arrest-data">Illinois Arrest Data</h3>
<p>The Illinois arrest dataset was sourced from the <a href="https://icjia.illinois.gov/arrestexplorer/docs/#data-privacy-and-precision" target="_blank"><strong>Illinois Criminal Justice Information Authority’s (ICJIA) Arrest Explorer</strong></a>, a platform providing aggregate arrest data from the <strong>Criminal History Record Information (CHRI)</strong> system—a statewide resource for demographic and offense-related variables.<span class="citation" data-cites="illinois_criminal_justice_information_authority_overview_2024"><sup><a href="#ref-illinois_criminal_justice_information_authority_overview_2024" role="doc-biblioref">1</a></sup></span></p>
<p>To ensure privacy and confidentiality, ICJIA applied the following modifications:</p>
<ul>
<li>Counts under 10 are approximated (e.g., 1 for counts 0–4, 6 for counts 5–9),<br>
</li>
<li>Subtotals, such as arrests by race or county, are accurate within +1/-1, and<br>
</li>
<li>Statewide totals align exactly with the CHRI database at the time of retrieval, which occurs twice annually.</li>
</ul>
<p>Further, the dataset excludes juvenile arrests, class C misdemeanors, and cases with missing demographic details. For this project, the data was first filtered by <strong>race, county, and year</strong>, and then downloaded directly to examine patterns relevant to my analysis.<span class="citation" data-cites="illinois_criminal_justice_information_authority_arrests_2024"><sup><a href="#ref-illinois_criminal_justice_information_authority_arrests_2024" role="doc-biblioref">2</a></sup></span></p>
<div id="cell-3" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>arrest_df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/raw-data/illinois_arrest_explorer_data.csv'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>arrest_df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">county_Adams</th>
<th data-quarto-table-cell-role="th">county_Alexander</th>
<th data-quarto-table-cell-role="th">county_Bond</th>
<th data-quarto-table-cell-role="th">county_Boone</th>
<th data-quarto-table-cell-role="th">county_Brown</th>
<th data-quarto-table-cell-role="th">county_Bureau</th>
<th data-quarto-table-cell-role="th">county_Calhoun</th>
<th data-quarto-table-cell-role="th">county_Carroll</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">county_Wabash</th>
<th data-quarto-table-cell-role="th">county_Warren</th>
<th data-quarto-table-cell-role="th">county_Washington</th>
<th data-quarto-table-cell-role="th">county_Wayne</th>
<th data-quarto-table-cell-role="th">county_White</th>
<th data-quarto-table-cell-role="th">county_Whiteside</th>
<th data-quarto-table-cell-role="th">county_Will</th>
<th data-quarto-table-cell-role="th">county_Williamson</th>
<th data-quarto-table-cell-role="th">county_Winnebago</th>
<th data-quarto-table-cell-role="th">county_Woodford</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2001</td>
<td>African American</td>
<td>226</td>
<td>147</td>
<td>25</td>
<td>18</td>
<td>18</td>
<td>48</td>
<td>6</td>
<td>12</td>
<td>...</td>
<td>6</td>
<td>46</td>
<td>25</td>
<td>6</td>
<td>16</td>
<td>128</td>
<td>3000</td>
<td>75</td>
<td>2509</td>
<td>42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2001</td>
<td>Asian</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>14</td>
<td>1</td>
<td>28</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2001</td>
<td>Hispanic</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>3 rows × 106 columns</p>
</div>
</div>
</div>
</section>
<section id="exoneration-data" class="level3">
<h3 class="anchored" data-anchor-id="exoneration-data">Exoneration Data</h3>
<p>The exoneration dataset was downloaded directly from the <a href="https://www.law.umich.edu/special/exoneration/Pages/Spread-Sheet-Request-Form.aspx" target="_blank"><strong><em>National Registry of Exonerations</em></strong></a>, a collaborative initiative by the Newkirk Center for Science and Society at the University of California (Irvine), the University of Michigan Law School, and Michigan State University College of Law. Established in 2012 by Rob Warden, then Executive Director of Northwestern University’s Pritzker School of Law’s Center on Wrongful Convictions, and Samuel R. Gross, a Law Professor at the University of Michigan, the Registry collects and publishes comprehensive, searchable statistical data and detailed case records for exonerations of innocent criminal defendants in the United States dating back to 1989<span class="citation" data-cites="university_of_california_irvine_newkirk_center_for_science__society_national_2024"><sup><a href="#ref-university_of_california_irvine_newkirk_center_for_science__society_national_2024" role="doc-biblioref">3</a></sup></span>.</p>
<p>The Registry defines exonerations as cases where a person, following new evidence of innocence, is officially cleared through actions like <strong>factual declarations of innocence</strong>, <strong>pardons</strong>, or the <strong>dismissal/acquittal</strong> of charges.<span class="citation" data-cites="university_of_california_irvine_newkirk_center_for_science__society_national_criteria"><sup><a href="#ref-university_of_california_irvine_newkirk_center_for_science__society_national_criteria" role="doc-biblioref">4</a></sup></span></p>
<p>To access the exoneration dataset, a <a href="https://www.law.umich.edu/special/exoneration/Pages/Spread-Sheet-Request-Form.aspx" target="_blank"><strong>spreadsheet request form</strong></a> was submitted, and the dataset was provided under conditions ensuring its proper use. These conditions include restrictions on retransmission, a requirement for advance notice of publication, and the obligation to report any identified errors or missing data.</p>
<div id="cell-5" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>exoneration_df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/raw-data/US_exoneration_data.csv'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>exoneration_df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Last Name</th>
<th data-quarto-table-cell-role="th">First Name</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Race</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">County</th>
<th data-quarto-table-cell-role="th">Tags</th>
<th data-quarto-table-cell-role="th">Worst Crime Display</th>
<th data-quarto-table-cell-role="th">Sentence</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">F/MFE</th>
<th data-quarto-table-cell-role="th">FC</th>
<th data-quarto-table-cell-role="th">ILD</th>
<th data-quarto-table-cell-role="th">P/FA</th>
<th data-quarto-table-cell-role="th">DNA</th>
<th data-quarto-table-cell-role="th">MWID</th>
<th data-quarto-table-cell-role="th">OM</th>
<th data-quarto-table-cell-role="th">Date of Exoneration</th>
<th data-quarto-table-cell-role="th">Date of 1st Conviction</th>
<th data-quarto-table-cell-role="th">Date of Release</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Abbitt</td>
<td>Joseph</td>
<td>31.0</td>
<td>Black</td>
<td>Male</td>
<td>North Carolina</td>
<td>Forsyth</td>
<td>CV;#IO;#SA</td>
<td>Child Sex Abuse</td>
<td>Life</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DNA</td>
<td>MWID</td>
<td>NaN</td>
<td>9/2/09</td>
<td>6/22/95</td>
<td>9/2/09</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Abbott</td>
<td>Cinque</td>
<td>19.0</td>
<td>Black</td>
<td>Male</td>
<td>Illinois</td>
<td>Cook</td>
<td>CIU;#IO;#NC;#P</td>
<td>Drug Possession or Sale</td>
<td>Probation</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>P/FA</td>
<td>NaN</td>
<td>NaN</td>
<td>OM</td>
<td>2/1/22</td>
<td>3/25/08</td>
<td>3/25/08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Abdal</td>
<td>Warith Habib</td>
<td>43.0</td>
<td>Black</td>
<td>Male</td>
<td>New York</td>
<td>Erie</td>
<td>IO;#SA</td>
<td>Sexual Assault</td>
<td>20 to Life</td>
<td>...</td>
<td>F/MFE</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DNA</td>
<td>MWID</td>
<td>OM</td>
<td>9/1/99</td>
<td>6/6/83</td>
<td>9/1/99</td>
</tr>
</tbody>
</table>

<p>3 rows × 22 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="adding-context-web-scraping-and-demographic-data" class="level2">
<h2 class="anchored" data-anchor-id="adding-context-web-scraping-and-demographic-data">Adding Context: Web Scraping and Demographic Data</h2>
<p>To contextualize these datasets within broader racial and geographic dynamics, I scraped incarceration demographics for Illinois counties from the <a href="https://www.prisonpolicy.org/racialgeography/counties.html"><strong>Prison Policy Initiative’s</strong></a>. Using Python libraries like <code>requests</code> and <code>BeautifulSoup</code>, I extracted and processed incarceration rates by race for geographic analysis. This provided insight into racial overrepresentation within incarceration systems and illuminated trends at the county level.<span class="citation" data-cites="prison_policy_initiative_home_2024"><sup><a href="#ref-prison_policy_initiative_home_2024" role="doc-biblioref">5</a></sup></span></p>
<div id="cell-7" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve the HTML content of the target webpage</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>html_url <span class="op">=</span> <span class="st">"https://www.prisonpolicy.org/racialgeography/counties.html"</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> requests.get(html_url)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse the HTML content with BeautifulSoup</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(result.text)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the table element containing the data</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>table_elt <span class="op">=</span> soup.find(<span class="st">"table"</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the HTML table into a Pandas DataFrame</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>table_sio <span class="op">=</span> StringIO(<span class="bu">str</span>(table_elt))</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>county_df <span class="op">=</span> pd.read_html(table_sio)[<span class="dv">0</span>]</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean the column names by removing unnecessary characters</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>county_df.columns <span class="op">=</span> [c.replace(<span class="st">""</span>,<span class="st">""</span>).replace(<span class="st">""</span>,<span class="st">""</span>).strip() <span class="cf">for</span> c <span class="kw">in</span> county_df.columns]</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for Illinois</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>il_df <span class="op">=</span> county_df[county_df[<span class="st">'State'</span>] <span class="op">==</span> <span class="st">"Illinois"</span>].copy()</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Export to CSV</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>il_df.to_csv(<span class="st">'../../data/raw-data/representation_by_county_raw.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data saved to 'representation_by_county_raw.csv'"</span>)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>il_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data saved to 'representation_by_county_raw.csv'</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">County</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Total Population</th>
<th data-quarto-table-cell-role="th">Total White Population</th>
<th data-quarto-table-cell-role="th">Total Black Population</th>
<th data-quarto-table-cell-role="th">Total Latino Population</th>
<th data-quarto-table-cell-role="th">Incarcerated Population</th>
<th data-quarto-table-cell-role="th">Incarcerated White Population</th>
<th data-quarto-table-cell-role="th">Incarcerated Black Population</th>
<th data-quarto-table-cell-role="th">Incarcerated Latino Population</th>
<th data-quarto-table-cell-role="th">Non-incarcerated Population</th>
<th data-quarto-table-cell-role="th">Non-incarcerated White Population</th>
<th data-quarto-table-cell-role="th">Non-Incarcerated Black Population</th>
<th data-quarto-table-cell-role="th">Non-Incarcerated Latino Population</th>
<th data-quarto-table-cell-role="th">Ratio of Overrepresentation of Whites Incarcerated Compared to Whites Non-Incarcerated</th>
<th data-quarto-table-cell-role="th">Ratio of Overrepresentation of Blacks Incarcerated Compared to Blacks Non-Incarcerated</th>
<th data-quarto-table-cell-role="th">Ratio of Overrepresentation of Latinos Incarcerated Compared to Latinos Non-Incarcerated</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">595</td>
<td>Adams County</td>
<td>Illinois</td>
<td>67103</td>
<td>62414</td>
<td>2331</td>
<td>776</td>
<td>110</td>
<td>73</td>
<td>36</td>
<td>0</td>
<td>66993</td>
<td>62341</td>
<td>2295</td>
<td>776</td>
<td>0.71</td>
<td>9.54</td>
<td>0.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">596</td>
<td>Alexander County</td>
<td>Illinois</td>
<td>8238</td>
<td>4983</td>
<td>2915</td>
<td>155</td>
<td>411</td>
<td>89</td>
<td>242</td>
<td>79</td>
<td>7827</td>
<td>4894</td>
<td>2673</td>
<td>76</td>
<td>0.35</td>
<td>1.72</td>
<td>19.82</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">597</td>
<td>Bond County</td>
<td>Illinois</td>
<td>17768</td>
<td>15797</td>
<td>1080</td>
<td>547</td>
<td>1542</td>
<td>500</td>
<td>657</td>
<td>304</td>
<td>16226</td>
<td>15297</td>
<td>423</td>
<td>243</td>
<td>0.34</td>
<td>16.32</td>
<td>13.14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">598</td>
<td>Boone County</td>
<td>Illinois</td>
<td>54165</td>
<td>40757</td>
<td>1064</td>
<td>10967</td>
<td>71</td>
<td>38</td>
<td>12</td>
<td>21</td>
<td>54094</td>
<td>40719</td>
<td>1052</td>
<td>10946</td>
<td>0.71</td>
<td>8.71</td>
<td>1.46</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">599</td>
<td>Brown County</td>
<td>Illinois</td>
<td>6937</td>
<td>5191</td>
<td>1280</td>
<td>402</td>
<td>2059</td>
<td>419</td>
<td>1267</td>
<td>367</td>
<td>4878</td>
<td>4772</td>
<td>13</td>
<td>35</td>
<td>0.21</td>
<td>227.91</td>
<td>24.76</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="geographical-insights-api-based-geocoding" class="level2">
<h2 class="anchored" data-anchor-id="geographical-insights-api-based-geocoding">Geographical Insights: API-Based Geocoding</h2>
<p>To strengthen the exploratory data analysis (EDA), I utilized geocoded data, adding latitude, longitude, and full addresses for Illinois counties. This addition enabled the visualization of systemic racial disparities across geographic areas, revealing trends and disparities among counties, identifying geographic clusters of exoneration cases, and examining regional variations in systemic factors.</p>
<p>The geocoding process was conducted using <a href="https://geopy.readthedocs.io/en/stable/" target="_blank"><strong>GeoPy</strong></a>, a Python library that serves as an interface to geocoding APIs, specifically the <strong>Nominatim API</strong> from OpenStreetMap. GeoPy simplifies the retrieval of geographic details like latitude, longitude, and full address from place names by sending requests to the Nominatim API and processing the responses.</p>
<div id="cell-9" class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the Nominatim geocoder for converting location names into geographic coordinates:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geopy.geocoders <span class="im">import</span> Nominatim  </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the geolocator with a user-defined agent to avoid request limits:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"illinois_exoneration_geocode"</span>) </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean the 'County' column by removing the word "County" and any extra spaces:</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>il_df[<span class="st">'County'</span>] <span class="op">=</span> il_df[<span class="st">'County'</span>].<span class="bu">str</span>.replace(<span class="st">"County"</span>, <span class="st">""</span>).<span class="bu">str</span>.strip()</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the DataFrame to clarify it contains Illinois counties:</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>illinois_counties <span class="op">=</span> il_df[[<span class="st">'County'</span>, <span class="st">'State'</span>]].copy()</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to geocode counties and return geographic details:</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> geocode_county(row):</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">    Takes a row containing 'County' and 'State' columns.</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co">    Uses the geolocator to find the full address, latitude, and longitude.</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns a dictionary with the geocoded data or None if geocoding fails.</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Combine county and state into a query string for geocoding:</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        location <span class="op">=</span> geolocator.geocode(<span class="ss">f"</span><span class="sc">{</span>row[<span class="st">'County'</span>]<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>row[<span class="st">'State'</span>]<span class="sc">}</span><span class="ss">, USA"</span>)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># If a location is found, return the geocoded details:</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> location:</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> {</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>                <span class="st">'address'</span>: location.address,    <span class="co"># The full geocoded address</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>                <span class="st">'latitude'</span>: location.latitude,  <span class="co"># The latitude coordinate</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>                <span class="st">'longitude'</span>: location.longitude <span class="co"># The longitude coordinate</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:  <span class="co"># Print a message if no geocoding result is found:</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Failed: No result for </span><span class="sc">{</span>row[<span class="st">'County'</span>]<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>row[<span class="st">'State'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:  <span class="co"># Handle errors during geocoding and print them:</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Error geocoding </span><span class="sc">{</span>row[<span class="st">'County'</span>]<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>row[<span class="st">'State'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the geocoding function to each Illinois county:</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>geocoded_results <span class="op">=</span> illinois_counties.<span class="bu">apply</span>(geocode_county, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the geocoding results into separate columns for address, latitude, and longitude:</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>illinois_counties[<span class="st">'geocode_address'</span>] <span class="op">=</span> geocoded_results.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x[<span class="st">'address'</span>] <span class="cf">if</span> <span class="bu">isinstance</span>(x, <span class="bu">dict</span>) <span class="kw">and</span> <span class="st">'address'</span> <span class="kw">in</span> x <span class="cf">else</span> <span class="va">None</span>)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>illinois_counties[<span class="st">'latitude'</span>] <span class="op">=</span> geocoded_results.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x[<span class="st">'latitude'</span>] <span class="cf">if</span> <span class="bu">isinstance</span>(x, <span class="bu">dict</span>) <span class="kw">and</span> <span class="st">'latitude'</span> <span class="kw">in</span> x <span class="cf">else</span> <span class="va">None</span>)</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>illinois_counties[<span class="st">'longitude'</span>] <span class="op">=</span> geocoded_results.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x[<span class="st">'longitude'</span>] <span class="cf">if</span> <span class="bu">isinstance</span>(x, <span class="bu">dict</span>) <span class="kw">and</span> <span class="st">'longitude'</span> <span class="kw">in</span> x <span class="cf">else</span> <span class="va">None</span>)</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the DataFrame with geocoded data:</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>illinois_counties.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">County</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">geocode_address</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">595</td>
<td>Adams</td>
<td>Illinois</td>
<td>Adams County, Illinois, United States</td>
<td>39.978779</td>
<td>-91.211006</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">596</td>
<td>Alexander</td>
<td>Illinois</td>
<td>Alexander County, Illinois, United States</td>
<td>37.180153</td>
<td>-89.350283</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">597</td>
<td>Bond</td>
<td>Illinois</td>
<td>Bond County, Illinois, United States</td>
<td>38.863033</td>
<td>-89.439142</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">598</td>
<td>Boone</td>
<td>Illinois</td>
<td>Boone County, Illinois, United States</td>
<td>42.321246</td>
<td>-88.823551</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">599</td>
<td>Brown</td>
<td>Illinois</td>
<td>Brown County, Illinois, United States</td>
<td>39.949821</td>
<td>-90.748566</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-10" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the geocoded results to a CSV file </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>illinois_counties.to_csv(<span class="st">"../../data/raw-data/geocoded_population_counties.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Geocoded county data saved to 'geocoded_population_counties.csv'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Geocoded county data saved to 'geocoded_population_counties.csv'</code></pre>
</div>
</div>
</section>
<section id="mapping-illinois-county" class="level2">
<h2 class="anchored" data-anchor-id="mapping-illinois-county">Mapping: Illinois County</h2>
<p>To visualize geocoded data and perform geographic exploratory data analysis (EDA), I required a shapefile for Illinois county boundaries. While the Census Bureau provides <a href="https://catalog.data.gov/dataset/tiger-line-shapefile-2021-state-illinois-census-tracts" target="_blank">Illinois shapefiles</a>, these files did not work as expected for my Exploratory Data Analysis (EDA) purposes due to compatibility issues.</p>
<p>Instead, I sourced a shapefile directly from the <a href="https://clearinghouse.isgs.illinois.edu/data/reference/illinois-county-boundaries-polygons-and-lines" target="_blank"><strong>Illinois State Geological Survey (ISGS)</strong></a> which included county boundaries in a format compatible with the GIS tools I used. ISGS’s shapefiles provided the geographic foundation for mapping and visualizing trends across Illinois counties for EDA which will allow me to adda crucial layer of context to the datasets and support meaningful EDA.<span class="citation" data-cites="IllinoisCountyBoundaries"><sup><a href="#ref-IllinoisCountyBoundaries" role="doc-biblioref">6</a></sup></span></p>
</section>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<section id="challenges" class="level2">
<h2 class="anchored" data-anchor-id="challenges">Challenges</h2>
<p>The foundation for meaningful data analysis is accurate and reliable crime data, yet long-standing challenges in criminal history record systems continue to undermine their precision and dependability<span class="citation" data-cites="woodard_use_1993"><sup><a href="#ref-woodard_use_1993" role="doc-biblioref">7</a></sup></span>. As outlined in the <strong>Use and Management of Criminal History Record Information Report (1993)</strong>, issues such as incomplete data reporting, delays in recording arrests and case dispositions, and inconsistent fingerprint submissions have plagued the system for decades<span class="citation" data-cites="woodard_use_1993"><sup><a href="#ref-woodard_use_1993" role="doc-biblioref">7</a></sup></span> . Criminal History Record Information (CHRI), the backbone for arrest datasets like those from the Illinois Criminal Justice Information Authority (ICJIA), is vulnerable to these shortcomings. Dispositions, or the outcomes of arrests, are often missing or delayed, leaving critical gaps in the data that make it difficult to analyze systemic trends. While advances in technology, such as digital fingerprinting, have improved some processes, data fragmentation and insufficient oversight remain persistent barriers to comprehensive and accurate reporting.</p>
<p>Fast forward thirty years, and many of these challenges remain unresolved—now further complicated by uneven implementation of modern systems. The Marshall Project highlights a striking example: in 2022, the FBI’s shift to the <strong>National Incident-Based Reporting System (NIBRS)</strong> created a significant data gap in national crime statistics<span class="citation" data-cites="li_many_2023"><sup><a href="#ref-li_many_2023" role="doc-biblioref">8</a></sup></span>. Over 6,000 police agencies failed to submit their data, representing nearly one-third of all agencies and leaving vast portions of the U.S. population unaccounted for. This includes major departments like the NYPD and LAPD, alongside countless smaller agencies<span class="citation" data-cites="li_many_2023"><sup><a href="#ref-li_many_2023" role="doc-biblioref">8</a></sup></span>. These gaps reflect broader systemic failures—inconsistent adoption of updated systems, lack of adequate funding, and minimal oversight—that echo the same issues identified decades ago.</p>
<p>In short, crime data, even when sourced from official systems, remains inherently flawed and incomplete. Whether due to outdated processes, inconsistent reporting practices, privacy-driven modifications, or gaps in modern collection systems, crime data often falls short of providing a fully accurate or comprehensive picture. As a result, any analysis relying on this data must account for these imperfections, recognizing that while the data can uncover critical trends and systemic disparities, it is rarely a perfect representation of reality.</p>
<section id="arrest-data-precision" class="level3">
<h3 class="anchored" data-anchor-id="arrest-data-precision">Arrest Data Precision</h3>
<p>The Illinois arrest dataset obtained from the ICJIA Arrest Explorer highlights the trade-offs between privacy and precision, adding to the broader challenges of criminal justice data. To protect confidentiality, counts under 10 are approximated—values between 0 and 4 are replaced with 1, while counts from 5 to 9 are replaced with 6. Though this approach is necessary to safeguard sensitive data, it can introduce distortions, particularly in smaller counties or demographic groups, where even slight approximations can significantly skew trends and reduce the accuracy of analysis. Compounding these issues, the lack of oversight in reporting further undermines data consistency and reliability, reflecting the broader systemic limitations that continue to plague many criminal justice datasets.</p>
</section>
</section>
<section id="benchmarks" class="level2">
<h2 class="anchored" data-anchor-id="benchmarks">Benchmarks</h2>
<p>The National Registry of Exonerations is a trusted and widely used resource, frequently cited in academic and legal research. Unlike government databases, the Registry is run by a team of researchers and academics, which brings a level of precision and thoroughness often missing in state-managed systems<span class="citation" data-cites="university_of_california_irvine_newkirk_center_for_science__society_national_mission"><sup><a href="#ref-university_of_california_irvine_newkirk_center_for_science__society_national_mission" role="doc-biblioref">9</a></sup></span>. Its foundation in meticulous documentation and independent research makes it less vulnerable to political or institutional biases. As a result, the Registry stands out as a more reliable and comprehensive tool for understanding wrongful convictions.</p>
</section>
<section id="conclusion-and-future-steps" class="level2">
<h2 class="anchored" data-anchor-id="conclusion-and-future-steps">Conclusion and Future Steps</h2>
<p>The data collected from various sources provide a foundation for examining systemic racial disparities in over-policing and wrongful convictions. However, challenges such as the lack of precision in Illinois arrest datasets and broader gaps in national crime reporting underscore the need to approach findings with caution. Even with these limitations, the use of reliable resources like the National Registry of Exonerations adds credibility to the analysis. Moving forward, future research could focus on compiling crime data from a single state across local, state, and federal agencies to better understand inconsistencies and uncover patterns of underreporting. Expanding this work to compare data collection practices across states could also reveal regional differences in crime reporting and highlight systemic disparities in how data is recorded and shared.</p>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-illinois_criminal_justice_information_authority_overview_2024" class="csl-entry" role="listitem">
1. Illinois Criminal Justice Information Authority. (2024). Overview <span></span> arrest explorer. In <em>Arrest Explorer</em>. <a href="https://icjia.illinois.gov/arrestexplorer/docs/#what-data-is-available">https://icjia.illinois.gov/arrestexplorer/docs/#what-data-is-available</a>
</div>
<div id="ref-illinois_criminal_justice_information_authority_arrests_2024" class="csl-entry" role="listitem">
2. Illinois Criminal Justice Information Authority. (2024). Arrests by race, county, and year. In <em>Arrest Explorer</em>. <a href="https://icjia.illinois.gov/arrestexplorer/">https://icjia.illinois.gov/arrestexplorer/</a>
</div>
<div id="ref-university_of_california_irvine_newkirk_center_for_science__society_national_2024" class="csl-entry" role="listitem">
3. University of California Irvine Newkirk Center for Science &amp; Society, &amp; Michigan State University College of Law, U. of M. L. S. (2024). The <span>National</span> <span>Registry</span> of <span>Exonerations</span> - <span>Exoneration</span> <span>Registry</span>. In <em>The National Registry of Exonerations</em>. <a href="https://www.law.umich.edu/special/exoneration/Pages/about.aspx">https://www.law.umich.edu/special/exoneration/Pages/about.aspx</a>
</div>
<div id="ref-university_of_california_irvine_newkirk_center_for_science__society_national_criteria" class="csl-entry" role="listitem">
4. University of California Irvine Newkirk Center for Science &amp; Society, &amp; Michigan State University College of Law, U. of M. L. S. (2024). The <span>National</span> <span>Registry</span> of <span>Exonerations</span> - <span>Glossary</span>. In <em>The National Registry of Exonerations</em>. <a href="https://www.law.umich.edu/special/exoneration/Pages/glossary.aspx">https://www.law.umich.edu/special/exoneration/Pages/glossary.aspx</a>
</div>
<div id="ref-prison_policy_initiative_home_2024" class="csl-entry" role="listitem">
5. Initiative, P. P. (2024). <em><span>Appendix</span> <span>A</span>. <span>Counties</span> – <span>Ratios</span> of <span>Overrepresentation</span></em>. <a href="https://www.prisonpolicy.org/racialgeography/counties.html">https://www.prisonpolicy.org/racialgeography/counties.html</a>
</div>
<div id="ref-IllinoisCountyBoundaries" class="csl-entry" role="listitem">
6. Survey, I. S. G. (1984). <em>Illinois county boundaries</em> (2.0 ed.). Illinois State Geological Survey. <a href="https://clearinghouse.isgs.illinois.edu/data/reference/illinois-county-boundaries-polygons-and-lines">https://clearinghouse.isgs.illinois.edu/data/reference/illinois-county-boundaries-polygons-and-lines</a>
</div>
<div id="ref-woodard_use_1993" class="csl-entry" role="listitem">
7. Woodard, P. L., &amp; Belair, R. R. (1993). Use and <span>Management</span> of <span>Criminal</span> <span>History</span> <span>Record</span> <span>Information</span>: <span>A</span> <span>Comprehensive</span> <span>Report</span> <span></span> <span>Bureau</span> of <span>Justice</span> <span>Statistics</span> [.gov]. In <em>Bureau of Justice Statistics</em>. <a href="https://bjs.ojp.gov/library/publications/use-and-management-criminal-history-record-information-comprehensive-report">https://bjs.ojp.gov/library/publications/use-and-management-criminal-history-record-information-comprehensive-report</a>
</div>
<div id="ref-li_many_2023" class="csl-entry" role="listitem">
8. Li, W., &amp; Ricard, J. (2023). Many <span>Large</span> <span>U</span>.<span>S</span>. <span>Police</span> <span>Agencies</span> <span>Are</span> <span>Missing</span> from <span>FBI</span> <span>Crime</span> <span>Data</span>. In <em>The Marshall Project</em>. <a href="https://www.themarshallproject.org/2023/07/13/fbi-crime-rates-data-gap-nibrs">https://www.themarshallproject.org/2023/07/13/fbi-crime-rates-data-gap-nibrs</a>
</div>
<div id="ref-university_of_california_irvine_newkirk_center_for_science__society_national_mission" class="csl-entry" role="listitem">
9. University of California Irvine Newkirk Center for Science &amp; Society, &amp; Michigan State University College of Law, U. of M. L. S. (2024). The <span>National</span> <span>Registry</span> of <span>Exonerations</span> - <span>Our</span> <span>Mission</span>. In <em>The National Registry of Exonerations</em>. <a href="https://www.law.umich.edu/special/exoneration/Pages/mission.aspx">https://www.law.umich.edu/special/exoneration/Pages/mission.aspx</a>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>